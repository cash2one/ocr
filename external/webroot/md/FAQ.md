# 常见问题

## 账号登录

**Q：需要使用什么账号登录?**  
A：您需要拥有一个百度账号，用来登录百度云，可以点击此处[注册百度账户](https://passport.baidu.com/v2/?reg)。如您以前拥有百度推广账户，同样可以登录百度云，但是目前AI服务暂不支持推广账户类型的使用，我们会尽快完善，请您持续关注。

**Q：注册百度账户时收不到验证码怎么办？**  
A：由于欠费停机、存储信息已满、信号网络延迟等原因没有及时收到验证码，这时请检查您的手机及话费余额，保证手机可正常接收短信后，请尝试重新获取验证码。

**Q：AI服务支持推广账号使用么？**  
A：支持推广账户使用。

**Q：为什么登录到百度云还要填写手机号、邮箱等信息？**  
A：如果您是初次使用百度云，我们需要收集一些您的几个核心信息，用于做开发者认证，这些信息也会作为您使用产品过程中，我们与您取得联系的重要联系方式。如您之前已经是百度云用户、百度开发者中心用户，此步骤将会自动省略。

**Q：我以前是百度开发者中心用户，还需要进行开发者认证么？**  
A：不需要。我们会自动同步您的开发者信息，但是为保证后续使用中可以及时联系到您，可能会提示您重新补充最新的开发者信息（手机号等）。

## 接口调用

**Q：目前都开放了哪些服务？**  
A：目前百度语音、文字识别、人脸识别、自然语言处理、黄反识别，这五项技术您可以直接在控制台中使用，也可以通过在百度大脑官网，提交商务合作需求。  
机器学习PaddlePaddle、用户画像、推荐云服务、机器翻译、AR增强现实等服务，您可以通过点击导航上的链接，到其官方平台进行使用，也可以统一在百度大脑提交商务合作需求。

**Q：每个服务的请求配额都是免费的么？**  
A：目前我们为每个账户下的每项API服务，都设置了固定的免费请求配额，便于您体验服务及应用调试。

**Q：每个服务的请求配额有限制么？**  
A：目前在同一账号下，每个API服务都有免费的请求配额，您可以在对应服务的控制台中查看。付费服务不限请求数量，即用即扣。

**Q：我可以创建多少个应用？**  
A：每项服务目前可创建最多100个应用，需要注意的是：**每项服务下的所有应用，将会共享您该项服务的请求配额。**

**Q：目前这些服务能够保证QPS么？**  
A：目前处于免费公测期，每日的测试限额范围内，并不保障并发。我们会陆续推出各服务的付费商用方案，全方位保障您的产品需求。

**Q：我觉得免费配额不够用，如何提升配额？**  
A：目前开放的API服务属于免费公测期，我们将陆续推出各服务的付费方案，您可以挑选适合的方案，满足您的产品需求。

**Q：我是百度云的老用户，可以使用百度云的AK/SK么？**  
A：目前文字识别、人脸识别、自然语言处理、黄反识别四项服务API，都可以使用百度云AK/SK调用，请求限额相同。非常抱歉的是语音服务暂不支持百度云AK/SK调用，我们会尽快完善，给您带来的不便深感抱歉。

**Q：支持哪些语言的服务端SDK？**  
A：目前支持各项服务的Java、PHP、Python版本服务端SDK，我们会尽快陆续推出更多语言支持，请您持续关注。

## 商用咨询

**Q：我有一些定制化需求，如何与你们取得联系?**  
A：您可以通过以下两种方式与我们联系：
1. 点击百度大脑官网右下角的「联系我们」，通过提交合作咨询表单，我们会在收到您的邮件后尽快与您取得联系。
2. 也可以在百度云控制台中，提交工单，选择「人工智能」问题类型，提交您的需求。
3. 加入我们的开发者QQ群：224994340。

**Q：目前是否支持付费，计费价目表是怎样的？**  
A：目前大部分开放服务处于免费公测期间，我们将很快陆续推出丰富的付费方案，尽可能满足您的产品需求，请您持续关注。

**Q：后续付费如何充值？**  
A：我们将统一使用百度云的账户计费，您只需在百度云中充值即可，依据不同付费方案，将会从您的账户余额中扣费。

# 技术问答

## 人脸识别

**Q：识别的图片支持怎样输入?**  
A：目前文字识别接口仅支持base64编码输入。

**Q：什么是base64编码，如何提供？**  
A：图片的base64编码指将一副图片数据编码成一串字符串，使用该字符串代替图像地址。您可以首先得到图片的二进制，然后用Base64格式编码即可。注：图片的base64编码是不包含图片头的，如（data:image/jpg;base64,）

**Q：识别的图片格式有什么要求?**  
A：支持PNG、JPG、JPEG、BMP，不支持GIF图片。

**Q：人脸服务的请求图片大小限制是?**  
A：Base64编码后大小限制，参考如下表格：

| 接口名称  | 图片编码后大小限额 |
| ----- | --------- |
| 人脸检测  | 小于2M      |
| 人脸比对  | 小于10M     |
| 人脸识别  | 小于10M     |
| 人脸认证  | 小于10M     |
| 人脸库设置 | 小于10M     |

**Q：人脸识别、认证我应该取多少分算是同一人?**  
A：推荐可判断为同一人的相似度分值为**80**，您也可以根据业务需求选择更合适的阈值。

**Q：人脸识别和人脸认证，有什么区别?**  
A：人脸认证与人脸识别的差别在于：人脸识别需要指定一个待查找的人脸库中的组；而人脸认证需要指定具体的用户id即可，不需要指定具体的人脸库中的组；实际应用中，人脸认证需要用户或系统先输入id，这增加了验证安全度，但也增加了复杂度，具体使用哪个接口需要视您的业务场景判断。

**Q：人脸识别的人脸库、用户组、用户、用户下的人脸都是些什么?**  
A：您可以参考如下层级关系：

```json
|- 人脸库
   |- 用户组一
      |- 用户01
         |- 人脸
      |- 用户02
         |- 人脸
         |- 人脸
         ....
       ....
   |- 用户组二
   |- 用户组三
   |- 用户组四
   ....
```

**Q：人脸库的设置限制?**  
A：各项限制如下所示：

* 每个开发者账号只能创建一个人脸库；
* 每个人脸库下，可创建最多1000个用户组；
* 每个用户组下，可添加最多2000张人脸，最多1000个用户uid；
* 每个用户（uid）所能注册的最大人脸数量为5张；

**Q：一个新的人脸注册后多久可以开始识别?**  
A：生效时间最长为**35s**，之后便可以进行识别或认证操作。

## 文字识别

**Q：图片格式和分辨率有限制吗?**  
A：目前图片格式支持jpg、png、bmp，Base64编码后大小不超过4M，最短边至少15px，最长边最大4096px。

**Q：图片大小有限制吗?**  
A：图像编码后大小必须小于4M，建议不要超过10M；最小边长不小于15，最大边长不超过4096px，建议不要超过2048px（最大边长超过2048px或编码后大于10M的图像会被缩放，影响效果，建议控制输入图像大小）

**Q：识别的图片支持怎样输入?**  
A：目前文字识别接口仅支持base64编码输入。

**Q：什么是base64编码，如何提供？**  
A：图片的base64编码指将一副图片数据编码成一串字符串，使用该字符串代替图像地址。您可以首先得到图片的二进制，然后用Base64格式编码即可。注：图片的base64编码是不包含图片头的，如（data:image/jpg;base64,）

**Q：身份证识别支持图片的竖拍吗?**  
A：横拍竖拍都支持。

**Q：银行卡识别支持翻转识别吗？**  
A：目前翻转不支持。

**Q：怎么提高识别的准确率和识别速度？**  
A：文字识别的准确率跟拍摄光照、背景、清晰度等因素有关，可在图片采集端尽量缩小要识别文字区域，尽量保证图片清晰度人眼可以辨认；  
**「身份证识别」**：在保证文字清晰度的前提下，降低图片大小可以提高识别速度。请尽量将图片高和宽都控制在1000 px以下，图片尽量没有反光、倾斜小于10度。  
**「银行卡识别」**：在保证文字清晰度的前提下，降低图片大小可以提高识别速度。请尽量保证银行卡号清晰、倾斜角度不超过30度，银行卡尽量占满图片的大部分。  
**「通用文字识别」**：在保证文字清晰度的前提下，降低图片大小、减少文字个数都可以提高识别速度，请尽量将图片高和宽都控制在1000 px以下，单图字数控制在70字以内。

**Q：通用文字识别对字体有要求吗？**  
A：字体没要求，但很特殊字体可能支持不好。

**Q：通用文字识别支持哪些语言识别？**  
A：支持十国语言（中/英/日/韩/西班牙/法/德/俄/葡萄牙/意大利，语言类型有参数设置）

**Q：支持文档扫描图片的文字识别吗？**  
A：目前开放的自然场景下，通用文字识别接口也同样支持文档扫描图片。

**Q: 为何两次账单中的调用次数基本相同，费用却差距很大？**   
A: 产品采用分段式阶梯计价，因月度调用累积量不同而单价不同。两次小时级账单虽然显示调用次数基本相似，但是月度调用累积量可能已经落入不同的阶梯区间，这样导致调用次数的单价不同，因此费用差距比较大。这种差异多发生在月末与月初账单对比，或是跨价格阶梯的账单对比中。

**Q:多个应用均调用银行卡识别，可以部分应用作为测试只使用免费配额，另一部分应用开通付费吗？**  
A: 非常抱歉，产品计费是按照总调用量进行计算，暂时无法实现只有部分应用开通付费。倘若您开通了银行卡识别的付费，那么当相关应用调用银行卡识别的日调用量总计超过了500次，则开始计费，不区分应用。


## 自然语言处理

**Q：输入编码是什么?**  
A：统一用GBK编码。

**Q：结果中的词性标注都是什么含义?**  
A：详见下表。  

|  词性  |  含义  |  词性  |  含义  |  词性  |  含义   |  词性  |  含义  |
| :--: | :--: | :--: | :--: | :--: | :---: | :--: | :--: |
|  n   | 普通名词 |  f   | 方位名词 |  s   | 处所名词  |  t   | 时间名词 |
|  nr  |  人名  |  ns  |  地名  |  nt  | 机构团体名 |  nw  | 作品名  |
|  nz  | 其他专名 |  v   | 普通动词 |  vd  |  动副词  |  vn  | 名动词  |
|  a   | 形容词  |  ad  | 副动词  |  an  |  名形词  |  d   |  副词  |
|  m   | 数量词  |  q   |  量词  |  r   |  代词   |  p   |  介词  |
|  c   |  连词  |  u   |  助词  |  xc  | 其他虚词  |  w   | 标点符号 |


**Q：短文本相似度对文字字数有什么限制?**  
A：每个短文本不要超过30个汉字或60字节。

**Q：短文本相似度计算，中英文混杂怎么办?**  
A：模型词表中包含常用高频英文单词，也可以进行匹配。

**Q：为什么有时短文本相似度计算没有返回结果?**  
A：尽管模型词表很大（百万级），但仍然偶尔会出现不在词表的问题，当文本所有单词都不在词表中的时候，会得不到结果。

**Q：评论观点抽取对输入的评论长度有限制么？**  
A：建议输入字符长度不超过150字，即保持在常用评论字符长度范围内。理论上评论长度不做限制，但是平台限制字符串长度为102400字符，超过即截断。

**Q：评论观点抽取可以标记挖掘出观点的文本位置吗？**  
A：可以的，输出结果中包含观点标签在原始文本中的位置。例如可以标记出：这家旅店*服务还是不错*的。

**Q：评论观点抽取支持自定义词典上传吗？**  
A：后续版本计划开放支持，敬请期待。

**Q：评论观点抽取可以批量上传并总结好标签及个数吗？**  
A：可以利用接口实现该功能。接口可以实现对每个评论的评论观点标签抽取和极性分析，多次调用即可实现多评论的标签挖掘和分析。

**Q：中文词向量表示为什么很多词的相似度都是1？**  
A：尽管词向量的词表在百万量级，但仍有可能出现不在词表中的词，不在词表中的词统一映射到OOV（out-of-vocabulary）中，所以当词对中的两个词都是OOV的时候，相似度为1。

**Q：中文DNN语言模型对文本个数有什么限制？**  
A：单个句子不要超过150个汉字。

**Q：中文DNN语言模型中英文混杂怎么办？**  
A：模型词表中包含常用高频英文单词，也可以进行匹配。

## 黄反识别

**Q：图片格式和分辨率有限制吗?**  
A：目前图片格式支持jpg、png、bmp，图片的长和宽要求最短边大于10px，最长边小于2048px。

**Q：图片大小有限制吗?**  
A：色情识别图像编码后大小必须小于2M，GIF色情识别要求如下：

**GIF色情识别的请求限制**

| 检查项       | 限制条件            |
| --------- | --------------- |
| 图片格式      | gif             |
| 每帧编码后大小   | < 4M            |
| 帧数        | 不超过50           |
| GIF图片整体大小 | base64编码后不超过20M |

**Q：识别的图片支持怎样输入?**  
A：目前仅支持base64编码输入。

**Q：什么是base64编码，如何提供？**  
A：图片的base64编码指将一副图片数据编码成一串字符串，使用该字符串代替图像地址。您可以首先得到图片的二进制，然后用Base64格式编码即可。注：图片的base64编码是不包含图片头的，如（data:image/jpg;base64,）


## 语音识别

**更多常见问题已经迁移至论坛，见：**http://yuyin.baidu.com/bbs/question/stick

**Q：语音识别REST API支持的音频格式、采样率有哪些？**  
A：支持的压缩格式有：pcm（不压缩）、wav、opus、speex、amr、x-flac。原始 PCM 的录音参数必须符合 8k/16k 采样率、16bit 位深、单声道。


**Q：语音识别 REST API 最长支持多长的录音？**  
A： 最长支持60s的录音文件。对文件大小没有限制，只对时长有限制。


**Q：语音识别SDK支持的音频格式、采样率有哪些？**  
A：Android SDK：支持Android 2.2及以上系统，支持ARM\X86架构。安装包最小增加200k，支持8k/16k采样率，支持pcm格式。

iOS SDK：支持iOS 5.0及以上系统，支持ARM-v7\ARM-v7s\ARM64\i386\x86_64架构。安装包最小增加400k，支持8k/16k采样率，支持pcm格式。


**Q：什么是语音识别REST API？有什么注意事项？**  
A：语音识别全平台REST API，采用http方式请求，可适用于任何平台的语音识别。使用REST API，录音、压缩及上传模块需要自行开发。且REST API语音识别暂时不支持语义解析。


**Q：百度语音是否单独提供录音功能，以及语音通讯功能？**  
A：不单独提供独立录音的功能，目前识别SDK包含语音输入和识别功能。语音通讯功能需开发者自行搭建。


**Q：语音识别REST API和SDK的区别是什么？**  
A： REST API：开发者上传录音——百度语音进行识别——识别结果返回开发者；SDK：百度语音提供从录音到识别结果返回的整体解决方案


**Q：语音识别通过哪个接口获取音频信息？**  
A：
Android SDK：当VoiceClientStatusChangeListener.onClientStatusChange(int status, Object obj) 的status是VoiceRecognitionClient.CLIENT_STATUS_AUDIO_DATA时，obj为byte[]音频数据；

iOS SDK：MVoiceRecognitionClientDelegate的(void)VoiceRecognitionClientWorkStatus:(int) aStatus obj:(id)aObj;的aStatus是EVoiceRecognitionClientWorkStatusNewRecordData时，aObj为NSData音频数据。
数据格式均为pcm，采样率可通过VoiceRecognitionConfig.getSampleRate()/[[BDVoiceRecognitionClient sharedInstance] getCurrentSampleRate]获取，获取的音频格式是位深16bit，单声道。

**Q：如何才能提高语音识别的准确率？**  
A：自定义语音识别设置：打开百度开放云平台，在目前创建的应用下进行自定义语音识别设置。上传识别关键词文本，保存并生效。
设置对应的语音识别垂类：在代码中填写识别的垂类领域，识别结果将优先指向已设置的垂类，可以使得识别结果更准确

**Q：百度语音SDK与其他百度SDK，或其他第三方SDK冲突时，如何解决？**  
A： 与其他百度SDK冲突一般是由于使用了相同的基础库galaxy.jar，请检查是否重复导入了该jar包；与其他第三方SDK冲突一般是由于so库的架构不统一，请保证工程libs目录下armeabi/armeabi-v7a/x86/mips目录的so库均一致，如果不能保证一致，则一般只能所有SDK仅使用armeabi架构的so库

**Q：首次开启语音识别功能的延迟时间较长，需要如何调控？**  
A： 首次延迟时间较长一般是由于权限验证造成，可以通过预先调用接口：
(int)verifyApiKey:(NSString *)apiKey withSecretKey:(NSString *)secretKey;
来进行验证。首次开启语音时就不需要再发送验证请求，从而降低语音识别启动的延迟。

**Q：如何在语音识别时获取音频文件？**  
A： 
**Api：**cp服务器自己备存用户录音信息；
**Sdk：**可以通过CLIENT_STATUS_AUDIO_DATA回调，将回调对象强转成byte[]顺序写入到文件中即可得到原始的音频文件。

**Q：语音识别垂类是什么意思？**  
A： 语音识别垂类就是特指某个领域的意思，开发者可以根据用户使用场景设定特定领域使得识别结果更准确。比如垂直领域设定为”音乐“，则在语音识别时会优先识别为音乐相关的歌曲名歌手名或者歌词。

**Q：为什么语音识别Demo的API_Key和Secret_Key是空的还能进行识别呢？我开发的应用的API_Key和Secret_Key是不是必须得填写呢？**  
A： SDK自带demo用的特殊的方式验证的，故可以不使用AK和SK。开发者自行开发的应用AK和SK是必须填写的，否则无法调用语音识别。

**Q：【Android纯在线】如何从识别SDK中获取音频？**  
A：通过监听onClientStatusChange函数的CLIENT_STATUS_AUDIO_DATA消息（在一次会话中会回调多次）拼接音频，如：

```
class MyVoiceRecogListener implements VoiceClientStatusChangeListener{
    OutputStream outFile;
    @Override
    public void onClientStatusChange(int status, Object obj) {
        switch(status) {
		    ... // 省略其它消息
            case VoiceRecognitionClient.CLIENT_STATUS_AUDIO_DATA:
                // 有音频数据输出
                if (obj!= null && obj instanceof byte[]) {
                    // 演示如何保持PCM音频，细节请各位工程师更加实际情况优化
					byte[] buf = (byte[])obj;
					FileOutputStream out = new FileOutputStream("sdcard/your_file.pcm", true);
					out.write(buf);
					out.close();
                }
                break;
            default:
                break;
        }
    }
```

**Q：【Android离在线】如何从识别SDK中获取音频？**  
A：
方式1：设置outfile参数可以指定语音数据的保存路径，设置方式如：
```
intent.putExtra("outfile", "/sdcard/your_audio.pcm");
```
语音数据的保存格式为PCM，播放和压缩请自行查找相关类库。

方式2：通过监听onBufferReceived(byte[] buf)回调，拼接音频实现。

## 语音合成

**更多常见问题已经迁移至论坛，见：**http://yuyin.baidu.com/bbs/question/stick


**Q：语音合成提供 REST API 吗？**  
A：语音合成REST API已经开放，请去语音合成相关下载页面下载使用。

**Q：语音合成支持那些语言和音色的播报？**  
A：语音合成目前支持中文普通话播报、中英文混读播报，音色支持男声和女声。

**Q：有离线语音合成可以提供吗？**  
A：目前没有开放纯离线模式下的语音合成SDK，但是我们开放了离在线融合语音合成SDK，会自动判断当前网络环境，自动匹配使用离线还是在线合成引擎。

**Q：语音合成的语音，我想获取音频数据该怎么办？**  
A：可以通过 SpeechSynthesizerListener 的 onNewDataArrive 方法获取音频数据。

**Q：提示“Unable to execute dex: Multiple dex files define Lcom/baidu/android/common/logging/Log”错误？**  
A：应用同时集成了百度其它 SDK，造成公共库冲突，请删除语音SDK中的galaxy_lite.jar。

**Q：提示“Caused by: java.lang.UnsatisfiedLinkError: Couldn't load BDSpeechDecoder_V1: findLibrary returned null”错误？**  
A：百度语音合成SDK 提供了armeabi标准库及armeabi-v7a库。如项目只包含其中一个目录，请只将TTS SDK中的同名目录集成，否则会造成其它库无法正常加载的错误。如项目只有armeabi，请只集成armeabi，反之如果只有armeabi-v7a，则只集成armeabi-v7a。