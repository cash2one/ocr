duAI([20],{0:function(e,t,n){e.exports=n(165)},20:function(e,t,n){var a,a;!function(t){e.exports=t()}(function(){return function e(t,n,o){function i(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof a&&a;if(!l&&c)return a(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return i(n?n:e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof a&&a,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){"use strict";function a(e,t){var a;if("/"==e.charAt(0))a=n.resolveInclude(e.replace(/^\/*/,""),t.root||"/",!0);else{if(!t.filename)throw new Error("`include` use relative path requires the 'filename' option.");a=n.resolveInclude(e,t.filename)}return a}function o(e,t){var a,o=e.filename,i=arguments.length>1;if(e.cache){if(!o)throw new Error("cache option requires a filename");if(a=n.cache.get(o))return a;i||(t=u.readFileSync(o).toString().replace(b,""))}else if(!i){if(!o)throw new Error("Internal EJS error: no file name or template provided");t=u.readFileSync(o).toString().replace(b,"")}return a=n.compile(t,e),e.cache&&n.cache.set(o,a),a}function i(e,t){var n=f.shallowCopy({},t);return n.filename=a(e,n),o(n)}function r(e,t){var n,o,i=f.shallowCopy({},t);n=a(e,i),o=u.readFileSync(n).toString().replace(b,""),i.filename=n;var r=new c(o,i);return r.generateSource(),{source:r.source,filename:n,template:o}}function s(e,t,n,a){var o=t.split("\n"),i=Math.max(a-3,0),r=Math.min(o.length,a+3),s=f.escapeXML(n),l=o.slice(i,r).map(function(e,t){var n=t+i+1;return(n==a?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+a+"\n"+l+"\n\n"+e.message,e}function l(e){return e.replace(/;(\s*$)/,"$1")}function c(e,t){t=t||{};var a={};this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],a.client=t.client||!1,a.escapeFunction=t.escape||f.escapeXML,a.compileDebug=t.compileDebug!==!1,a.debug=!!t.debug,a.filename=t.filename,a.delimiter=t.delimiter||n.delimiter||m,a.strict=t.strict||!1,a.context=t.context,a.cache=t.cache||!1,a.rmWhitespace=t.rmWhitespace,a.root=t.root,a.localsName=t.localsName||n.localsName||g,a.strict?a._with=!1:a._with="undefined"==typeof t._with||t._with,this.opts=a,this.regex=this.createRegex()}var u=e("fs"),d=e("path"),f=e("./utils"),p=!1,h=e("../package.json").version,m="%",g="locals",v="ejs",y="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",_=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename"],b=/^\uFEFF/;n.cache=f.cache,n.localsName=g,n.resolveInclude=function(e,t,n){var a=d.dirname,o=d.extname,i=d.resolve,r=i(n?t:a(t),e),s=o(e);return s||(r+=".ejs"),r},n.compile=function(e,t){var n;return t&&t.scope&&(p||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),p=!0),t.context||(t.context=t.scope),delete t.scope),n=new c(e,t),n.compile()},n.render=function(e,t,n){var a=t||{},i=n||{};return 2==arguments.length&&f.shallowCopyFromList(i,a,_),o(i,e)(a)},n.renderFile=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(),a=t.pop(),i=t.shift()||{},r=t.pop()||{},s=_.slice();r=f.shallowCopy({},r),s.push("cache"),3==arguments.length&&(i.settings&&i.settings["view options"]?f.shallowCopyFromList(r,i.settings["view options"],s):f.shallowCopyFromList(r,i,s)),r.filename=n;try{e=o(r)(i)}catch(e){return a(e)}return a(null,e)},n.clearCache=function(){n.cache.reset()},c.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},c.prototype={createRegex:function(){var e=y,t=f.escapeRegExpChars(this.opts.delimiter);return e=e.replace(/%/g,t),new RegExp(e)},compile:function(){var e,t,n=this.opts,a="",o="",r=n.escapeFunction;this.source||(this.generateSource(),a+="  var __output = [], __append = __output.push.bind(__output);\n",n._with!==!1&&(a+="  with ("+n.localsName+" || {}) {\n",o+="  }\n"),o+='  return __output.join("");\n',this.source=a+this.source+o),e=n.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(n.filename?JSON.stringify(n.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line);\n}\n":this.source,n.debug&&console.log(e),n.client&&(e="escape = escape || "+r.toString()+";\n"+e,n.compileDebug&&(e="rethrow = rethrow || "+s.toString()+";\n"+e)),n.strict&&(e='"use strict";\n'+e);try{t=new Function(n.localsName+", escape, include, rethrow",e)}catch(e){throw e instanceof SyntaxError&&(n.filename&&(e.message+=" in "+n.filename),e.message+=" while compiling ejs\n\n",e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",e.message+="https://github.com/RyanZim/EJS-Lint"),e}if(n.client)return t.dependencies=this.dependencies,t;var l=function(e){var a=function(t,a){var o=f.shallowCopy({},e);return a&&(o=f.shallowCopy(o,a)),i(t,n)(o)};return t.apply(n.context,[e||{},r,a,s])};return l.dependencies=this.dependencies,l},generateSource:function(){var e=this.opts;e.rmWhitespace&&(this.templateText=this.templateText.replace(/\r/g,"").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,a=this.parseTemplateText(),o=this.opts.delimiter;a&&a.length&&a.forEach(function(e,i){var s,l,c,u,d,p;if(0===e.indexOf("<"+o)&&0!==e.indexOf("<"+o+o)&&(l=a[i+2],l!=o+">"&&l!="-"+o+">"&&l!="_"+o+">"))throw new Error('Could not find matching close tag for "'+e+'".');return(c=e.match(/^\s*include\s+(\S+)/))&&(s=a[i-1],s&&(s=="<"+o||s=="<"+o+"-"||s=="<"+o+"_"))?(u=f.shallowCopy({},t.opts),d=r(c[1],u),p=t.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(d.template)+"\n      , __filename = "+JSON.stringify(d.filename)+";\n      try {\n"+d.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+d.source+"    ; }).call(this)\n",t.source+=p,void t.dependencies.push(n.resolveInclude(c[1],u.filename))):void t.scanLine(e)})},parseTemplateText:function(){for(var e,t=this.templateText,n=this.regex,a=n.exec(t),o=[];a;)e=a.index,0!==e&&(o.push(t.substring(0,e)),t=t.slice(e)),o.push(a[0]),t=t.slice(a[0].length),a=n.exec(t);return t&&o.push(t),o},scanLine:function(e){function t(){n.truncate?(e=e.replace(/^(?:\r\n|\r|\n)/,""),n.truncate=!1):n.opts.rmWhitespace&&(e=e.replace(/^\n/,"")),e&&(e=e.replace(/\\/g,"\\\\"),e=e.replace(/\n/g,"\\n"),e=e.replace(/\r/g,"\\r"),e=e.replace(/"/g,'\\"'),n.source+='    ; __append("'+e+'")\n')}var n=this,a=this.opts.delimiter,o=0;switch(o=e.split("\n").length-1,e){case"<"+a:case"<"+a+"_":this.mode=c.modes.EVAL;break;case"<"+a+"=":this.mode=c.modes.ESCAPED;break;case"<"+a+"-":this.mode=c.modes.RAW;break;case"<"+a+"#":this.mode=c.modes.COMMENT;break;case"<"+a+a:this.mode=c.modes.LITERAL,this.source+='    ; __append("'+e.replace("<"+a+a,"<"+a)+'")\n';break;case a+a+">":this.mode=c.modes.LITERAL,this.source+='    ; __append("'+e.replace(a+a+">",a+">")+'")\n';break;case a+">":case"-"+a+">":case"_"+a+">":this.mode==c.modes.LITERAL&&t(),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case c.modes.EVAL:case c.modes.ESCAPED:case c.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case c.modes.EVAL:this.source+="    ; "+e+"\n";break;case c.modes.ESCAPED:this.source+="    ; __append(escape("+l(e)+"))\n";break;case c.modes.RAW:this.source+="    ; __append("+l(e)+")\n";break;case c.modes.COMMENT:break;case c.modes.LITERAL:t()}}else t()}n.opts.compileDebug&&o&&(this.currentLine+=o,this.source+="    ; __line = "+this.currentLine+"\n")}},n.escapeXML=f.escapeXML,n.__express=n.renderFile,e.extensions&&(e.extensions[".ejs"]=function(e,t){var a=t||e.filename,o={filename:a,client:!0},i=u.readFileSync(a).toString(),r=n.compile(i,o);e._compile("module.exports = "+r.toString()+";",a)}),n.VERSION=h,n.name=v,"undefined"!=typeof window&&(window.ejs=n)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(e,t,n){"use strict";function a(e){return i[e]||e}var o=/[|\\{}()[\]^$+*?.]/g;n.escapeRegExpChars=function(e){return e?String(e).replace(o,"\\$&"):""};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>\'"]/g,s='var _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n';n.escapeXML=function(e){return void 0==e?"":String(e).replace(r,a)},n.escapeXML.toString=function(){return Function.prototype.toString.call(this)+";\n"+s},n.shallowCopy=function(e,t){t=t||{};for(var n in t)e[n]=t[n];return e},n.shallowCopyFromList=function(e,t,n){return n.forEach(function(n){"undefined"!=typeof t[n]&&(e[n]=t[n])}),e},n.cache={_data:{},set:function(e,t){this._data[e]=t},get:function(e){return this._data[e]},reset:function(){this._data={}}}},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){(function(e){function t(e,t){for(var n=0,a=e.length-1;a>=0;a--){var o=e[a];"."===o?e.splice(a,1):".."===o?(e.splice(a,1),n++):n&&(e.splice(a,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function a(e,t){if(e.filter)return e.filter(t);for(var n=[],a=0;a<e.length;a++)t(e[a],a,e)&&n.push(e[a]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var r=i>=0?arguments[i]:e.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(n=r+"/"+n,o="/"===r.charAt(0))}return n=t(a(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),i="/"===r(e,-1);return e=t(a(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(a(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function a(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=a(e.split("/")),i=a(t.split("/")),r=Math.min(o.length,i.length),s=r,l=0;l<r;l++)if(o[l]!==i[l]){s=l;break}for(var c=[],l=s;l<o.length;l++)c.push("..");return c=c.concat(i.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],a=t[1];return n||a?(a&&(a=a.substr(0,a.length-1)),n+a):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:5}],5:[function(e,t,n){function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===a||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function r(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&l())}function l(){if(!g){var e=i(s);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,f,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:a}catch(e){d=a}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var h,m=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||i(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],6:[function(e,t,n){t.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"2.5.4",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",contributors:["Timothy Gu <timothygu99@gmail.com> (https://timothygu.github.io)"],license:"Apache-2.0",main:"./lib/ejs.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{},devDependencies:{browserify:"^13.0.1",eslint:"^3.0.0","git-directory-deploy":"^1.5.1",istanbul:"~0.4.3",jake:"^8.0.0",jsdoc:"^3.4.0","lru-cache":"^4.0.1",mocha:"^3.0.2","uglify-js":"^2.6.2"},engines:{node:">=0.10.0"},scripts:{test:"mocha",lint:'eslint "**/*.js" Jakefile',coverage:"istanbul cover node_modules/mocha/bin/_mocha",doc:"jake doc",devdoc:"jake doc[dev]"}}},{}]},{},[1])(1)})},24:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(25),s=n(20),l=a(s),c=n(18),u=a(c),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",n=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";o(this,e),this.container=t,this.id=n||"modal-"+(new Date).getTime(),this.title=a,this.isOpen=!1}return i(e,[{key:"init",value:function(){var e=l.default.render(r.MODAL_TMPL,{id:this.id,title:this.title});(0,u.default)(this.container).append(e),this.bindEvent()}},{key:"setContent",value:function(e){this.getModal().find(".modal-content").html(e)}},{key:"show",value:function(){this.isOpen=!0,this.getModal().show(),(0,u.default)("body").addClass("modal-show")}},{key:"hide",value:function(){this.isOpen=!1,this.getModal().hide(),(0,u.default)("body").removeClass("modal-show")}},{key:"destroy",value:function(){this.hide(),this.getModal().remove()}},{key:"getModal",value:function(){return(0,u.default)("#"+this.id)}},{key:"bindEvent",value:function(){function e(){(0,u.default)(".ai-modal").trigger("close")}var t=this;this.getModal().on("click",".modal-x",function(){t.hide()}),this.getModal().on("click",function(e){e.stopPropagation()}),this.getModal().on("close",function(){t.isOpen&&t.hide()}),(0,u.default)("body").off("close",e).on("click",e)}}]),e}();t.default=d},25:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MODAL_TMPL=['<div class="ai-modal" id="<%= id %>">','<header class="modal-header">',"<h3><%= title %></h3>",'<a class="modal-x"></a>',"</header>",'<section class="modal-content">',"</section>","</div>"].join(""),t.ALERT_MODAL_TMPL=['<div class="ai-modal alert" id="<%= id %>">','<header class="modal-header">',"<h3><%= title %></h3>",'<a class="modal-x"></a>',"</header>",'<section class="modal-content">','<div style="text-align: center; color: #666;font-size: 14px;margin-bottom: 20px;"><%=content%></div>','<div style="text-align: center;">','<button type="button" class="btn-normal cancel">确定</button>',"</div>","</section>","</div>"].join(""),t.CONFIRM_MODAL_TMPL=['<div class="ai-modal alert" id="<%= id %>">','<header class="modal-header">',"<h3><%= title %></h3>",'<a class="modal-x"></a>',"</header>",'<section class="modal-content">','<div style="text-align: center; color: #666;font-size: 14px;margin-bottom: 20px;"><%=content%></div>','<div style="text-align: center;">','<button type="button" class="btn-primary submit">确定</button>','<button type="button" class="btn-normal cancel" style="margin-left: 15px;">取消</button>',"</div>","</section>","</div>"].join("")},129:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(18),s=a(r),l=n(130),c=n(131),u=a(c),d=n(132),f=n(133),p=n(134),h=function(){function e(t){var n=this,a=t.selector,i=t.image,r=t.type,l=t.apiType,c=t.toCheck,d=void 0===c||c,f=t.scale,p=void 0===f?1:f,h=t.success,m=t.fail;if(o(this,e),!(0,s.default)(a).context)throw"DemoCanvas：未寻找到容器!";if(this.container=(0,s.default)(a),this.type=r,this.scale=p,this.apiType=l,this.image=new Image,this.success=h||s.default.noop,this.fail=m||s.default.noop,this.image.onerror=function(){n.fail(),new u.default("图片加载失败，请重试")},d){var g={url:this.checkByUrl,stream:this.checkByStream}[this.type](i,l);s.default.when(g).then(function(e){n.image.onload=function(){n.render(!0)},n.image.src=e},function(e){n.image.onload=function(){n.render(!1)},n.image.src=e})}else this.image.onload=function(){n.render(!0)},this.image.src=i}return i(e,[{key:"checkByUrl",value:function(e,t){var n=s.default.Deferred();return(0,l.getHeader)({imageUrl:e,type:t,success:function(e){var t=e.data["Content-Type"],a=e.data["Content-Length"];return!t&&!a||0!==e.errno?void n.reject(d):/image\/(png|bmp|jpg|jpeg)/.test(t)?a>2097152?void n.reject(p):void n.resolve(e.data.image_data):void n.reject(f)},fail:function(){n.reject(d)}}),n.promise()}},{key:"checkByStream",value:function(e){var t=s.default.Deferred(),n=new FileReader;return e?(n.readAsDataURL(e),n.onload=function(n){return/image\/(png|bmp|jpeg)/.test(e.type)?e.size>2097152?(t.reject(p),!1):void t.resolve(n.target.result):(t.reject(f),!1)},n.onerror=function(){t.reject(d)},t.promise()):(t.reject(d),t.promise())}},{key:"render",value:function(e){var t=this.container.width(),n=this.container.height(),a=this.image.width,o=this.image.height,i=(0,s.default)("<canvas>您的浏览器暂时不支持canvas，请选用现代浏览器！</canvas>").attr("width",a).attr("height",o),r=i[0].getContext("2d");r.drawImage(this.image,0,0);var l=a/t,c=o/n,u=this.scale*(l>1||c>1?1/(l>=c?l:c):1);i.css({position:"relative",left:"50%",top:"50%","-webkit-transform":"translate(-50%, -50%) scale("+u+")","-moz-transform":"translate(-50%, -50%) scale("+u+")","-o-transform":"translate(-50%, -50%) scale("+u+")",transform:"translate(-50%, -50%) scale("+u+")"}),i.attr("data-scale",u),this.container.empty().append(i),e?this.success(this.image.src):this.fail()}}]),e}();t.default=h},130:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.image,n=void 0===t?null:t,a=e.imageUrl,o=void 0===a?null:a,i=e.success,r=void 0===i?h.default.noop:i,s=e.fail,l=void 0===s?h.default.noop:s;h.default.post("/aidemo",{type:"idcard",image:n,image_url:o}).success(r).fail(l)}function i(e){var t=e.image,n=void 0===t?null:t,a=e.imageUrl,o=void 0===a?null:a,i=e.success,r=void 0===i?h.default.noop:i,s=e.fail,l=void 0===s?h.default.noop:s;h.default.post("/aidemo",{type:"bankcard",image:n,image_url:o}).success(r).fail(l)}function r(e){var t=e.image,n=void 0===t?null:t,a=e.imageUrl,o=void 0===a?null:a,i=e.success,r=void 0===i?h.default.noop:i,s=e.fail,l=void 0===s?h.default.noop:s;h.default.post("/aidemo",{type:"commontext",image:n,image_url:o}).success(r).fail(l)}function s(e){var t=e.image,n=void 0===t?null:t,a=e.imageUrl,o=void 0===a?null:a,i=e.success,r=void 0===i?h.default.noop:i,s=e.fail,l=void 0===s?h.default.noop:s;h.default.post("/aidemo",{type:"face",image:n,image_url:o}).success(r).fail(l)}function l(e){var t=e.image,n=void 0===t?null:t,a=e.imageUrl,o=void 0===a?null:a,i=e.success,r=void 0===i?h.default.noop:i,s=e.fail,l=void 0===s?h.default.noop:s;h.default.post("/aidemo",{type:"pornography",image:n,image_url:o}).success(r).fail(l)}function c(e){var t=e.imageUrl,n=void 0===t?null:t,a=e.type,o=e.success,i=void 0===o?h.default.noop:o,r=e.fail,s=void 0===r?h.default.noop:r;h.default.post("/aidemo",{action:"getHeader",type:a,image_url:n}).success(i).fail(s)}function u(e){var t=e.words,n=void 0===t?null:t,a=e.success,o=void 0===a?h.default.noop:a,i=e.fail,r=void 0===i?h.default.noop:i;h.default.post("/aidemo",{type:"wakescore",kw:n}).success(o).fail(r)}function d(e){var t=e.words,n=void 0===t?null:t,a=e.success,o=void 0===a?h.default.noop:a;window.open("/aidemo?type=wakedownload&kw="+n,"_blank"),o()}function f(e){var t=e.data,n=void 0===t?{}:t,a=e.success,o=void 0===a?h.default.noop:a,i=e.fail,r=void 0===i?h.default.noop:i;h.default.post("/aidemo",{type:"tts",speed:n.speed,vol:n.vol,person:n.person,text:n.text}).success(o).fail(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.scanIDCard=o,t.scanBankCard=i,t.scanGeneralText=r,t.scanFace=s,t.scanPornography=l,t.getHeader=c,t.evaluateWakeWords=u,t.exportWakeWords=d,t.synthesizeSpeech=f;var p=n(18),h=a(p)},131:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function e(t,n,a){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(a)},c=n(20),u=a(c),d=n(18),f=a(d),p=n(24),h=a(p),m=n(25),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.title="提示",n.content=e||"",n.init(),n}return r(t,e),s(t,[{key:"init",value:function(){var e=u.default.render(m.ALERT_MODAL_TMPL,{id:this.id,title:this.title,content:this.content});(0,f.default)(this.container).append(e),this.bindEvent(),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this)}},{key:"hide",value:function(){this.getModal().hide().remove(),(0,f.default)("body").removeClass("modal-show")}},{key:"bindEvent",value:function(){var e=this;l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"bindEvent",this).call(this);var n=this.getModal();n.on("click","button.cancel",function(t){t.preventDefault(),e.hide()})}}]),t}(h.default);t.default=g},132:function(e,t){e.exports="/ai_dist/1484894584/ai_images/error/not-found.png"},133:function(e,t){e.exports="/ai_dist/1484894584/ai_images/error/image-format.png"},134:function(e,t){e.exports="/ai_dist/1484894584/ai_images/error/too-large.png"},165:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(18),i=a(o),r=n(129),s=a(r),l=n(130),c=n(131),u=a(c);n(166);var d=[n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187)];(0,i.default)(document).ready(function(){(0,i.default)(".case-indicator > li").click(function(){var e=this;(0,i.default)(".case-indicator > li").each(function(t,n){(0,i.default)(n).toggleClass("active",t===(0,i.default)(e).index())}),(0,i.default)(".case-item").each(function(t,n){(0,i.default)(n).toggleClass("active",t===(0,i.default)(e).index())})}),(0,i.default)(window).scroll(function(){(0,i.default)(document).scrollTop()>=100&&(0,i.default)(".tech-intro-detail").trigger("demo")}),(0,i.default)(".tech-intro-detail").one("demo",function(){(0,i.default)(".tech-intro-detail").addClass("scanned")});var e=!1,t=function(){e=!1,(0,i.default)("#demo-json > p").empty(),(0,i.default)("#demo-result .canvas-container").attr("class","canvas-container"),(0,i.default)("#demo-photo-upload, #scan-photo").removeClass("disabled"),(0,i.default)("#demo-photo-upload  > input").val(""),(0,i.default)("#result-gallery").toggle(!1).find("ul").empty(),(0,i.default)("#face-details").hide().empty()},n=function(e){for(var t=(0,i.default)("#demo-result canvas"),n=t.attr("data-scale"),a=(0,i.default)("#demo-result canvas")[0].getContext("2d"),o=0,r=e.length;o<r;o++){var s=e[o],l=s.location;a.save(),a.beginPath(),a.lineWidth=4/n,a.fillStyle="transparent",a.strokeStyle="rgba(0, 115, 235, 0.8)",a.translate(l.left,l.top),a.rotate(s.rotation_angle/180*Math.PI),a.rect(0,0,l.width,l.height),a.fill(),a.stroke(),a.closePath(),a.restore()}},a=function(e,t){for(var n=(0,i.default)("#demo-result canvas"),a=n.attr("data-scale"),o=(0,i.default)("#demo-result canvas")[0].getContext("2d"),r=t?{x:e.location.left,y:e.location.top}:{x:0,y:0},s=t?e.rotation_angle:0,l=function(e,t){return 360*Math.atan(t/e)/(2*Math.PI)},c=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},u=0,d=e.landmark72.length;u<d;u++){var f=e.landmark72[u];o.beginPath(),o.lineWidth=1,o.fillStyle="rgba(0, 115, 235, 0.8)",o.strokeStyle="transparent";var p=(l(f.x-r.x,f.y-r.y)-s)/180*Math.PI,h=c(f.x-r.x,f.y-r.y);o.arc(h*Math.cos(p),h*Math.sin(p),2/a,0,2*Math.PI),o.fill(),o.stroke(),o.closePath()}},o=function(e){(0,i.default)("#result-gallery").toggle(e)},r=function(e){var t=(0,i.default)("#result-gallery > ul"),n=new Image;n.onload=function(){for(var a=0,o=e.result.length;a<o;a++){var r=e.result[a],s=(0,i.default)("<canvas>").attr("width",r.location.width).attr("height",r.location.height),l=s[0].getContext("2d");l.rotate(-r.rotation_angle*Math.PI/180),l.translate(-r.location.left,-r.location.top),l.drawImage(n,0,0);var c=(0,i.default)('<li><img src="'+s[0].toDataURL()+'"></li>');c.data("face",r).data("isAll",!1),t.append(c)}},n.src=t.find("img").eq(0).attr("src")},c=function(e,t){var n=(0,i.default)("#result-gallery > ul"),a=(0,i.default)('<li class="active"><img src="'+e+'"></li>');a.data("face",t).data("isAll",!0),n.empty().append(a)},f={age:{name:"年龄",transform:function(e){return Math.round(e)}},race:{name:"人种",transform:function(e){return{yellow:"黄种人",white:"白种人",black:"黑种人",arabs:"阿拉伯人"}[e]}},gender:{name:"性别",transform:function(e){return{male:"男性",female:"女性"}[e]}},expression:{name:"表情",transform:function(e){return{0:"不笑",1:"微笑",2:"大笑"}[e]}},glasses:{name:"眼镜",transform:function(e){return{0:"无眼镜",1:"普通眼镜",2:"墨镜"}[e]}}},p=function(e,t){var n=(0,i.default)("#face-details");if(n.empty(),t)return n.hide(),!1;n.show();for(var a in f)if(e.hasOwnProperty(a)){var o=f[a].name,r=f[a].transform(e[a]);n.append((0,i.default)("<li></li>").html(o+" : "+r))}},h=function(s,d,f){(0,i.default)("#demo-json > p").empty(),o(!1),(0,i.default)("#demo-result .canvas-container").attr("class","canvas-container loading"),(0,i.default)("#face-details").hide().empty();var h={success:function(t){return(0,i.default)("#demo-photo-upload, #scan-photo").removeClass("disabled"),(0,i.default)("#demo-json > p").html(JSON.stringify(t,null,"\t")),(0,i.default)("#demo-result .canvas-container").removeClass("loading"),0===t.errno&&t.data.result_num?((0,i.default)("#demo-result .canvas-container").toggleClass("has-result",t.data.result_num>=1),c(d,t.data.result),1===t.data.result_num?(o(!1),a(t.data.result[0]),p(t.data.result[0],!1)):(o(!0),r(t.data),n(t.data.result),p(null,!0)),void(e=!1)):((0,i.default)("#demo-result .canvas-container").toggleClass("error-upload-fail",107===t.errno).toggleClass("error-timeout",28===t.errno).toggleClass("error-image-format",106===t.errno),(0,i.default)("#demo-result .canvas-container").toggleClass("error-no-result",!t.data||!t.data.result_num),(0,i.default)("#demo-result .canvas-container").empty(),e=!1,[106,107,28,0].indexOf(t.errno)===-1&&new u.default(t.msg),e)},fail:function(e){new u.default("接口发生错误："+e.status+" - "+e.statusText),t()}};"url"===s?h.imageUrl=f:"stream"===s&&(h.image=d),(0,l.scanFace)(h)};(0,i.default)("#demo-photo-upload  > input").change(function(n){if(""===(0,i.default)(this).val())return!1;if(e)return void new u.default("操作正在进行中，请稍候再试！");e=!0,(0,i.default)("#demo-photo-upload, #scan-photo").addClass("disabled");var a=(0,i.default)(this)[0].files[0];new s.default({selector:"#demo-result .canvas-container",image:a,type:"stream",lazyRender:!0,success:function(e){(0,i.default)("#demo-photo-upload  > input").val(""),h("stream",e)},fail:t})}),(0,i.default)("#demo-photo-url").change(function(){(0,i.default)(".demo-card-list > li").removeClass("active")}),(0,i.default)("#scan-photo").click(function(){if(e)return void new u.default("操作正在进行中，请稍候再试！");if((0,i.default)(this).hasClass("disabled")||!(0,i.default)("#demo-photo-url").val())return!1;e=!0,(0,i.default)("#demo-photo-upload, #scan-photo").addClass("disabled");var n=(0,i.default)("#demo-photo-url").val();new s.default({selector:"#demo-result .canvas-container",image:n,type:"url",apiType:"face",success:function(e){h("url",e,n)},fail:t})}),(0,i.default)("#demo-photo-upload").click(function(){if((0,i.default)(this).hasClass("disabled"))return!1});var m=(0,i.default)(".demo-card-list > li");m.each(function(e,t){(0,i.default)(t).find("img").attr("src",window.location.protocol+"//"+window.location.host+d[e])}),m.click(function(){if(e)return void new u.default("操作正在进行中，请稍候再试！");e=!0,(0,i.default)(".demo-card-list > li").removeClass("active"),(0,i.default)(this).addClass("active");var n=(0,i.default)(this).find("img").attr("src");(0,i.default)("#demo-photo-upload, #scan-photo").addClass("disabled"),new s.default({selector:"#demo-result .canvas-container",image:n,type:"url",toCheck:!1,success:function(e){h("url",e,n)},fail:t})}),(0,i.default)("#result-gallery").on("click","li",function(){(0,i.default)("#result-gallery li").removeClass("active");var e=(0,i.default)(this);e.addClass("active");var o=e.data("face"),r=e.data("isAll");new s.default({selector:"#demo-result .canvas-container",image:(0,i.default)(this).find("img").attr("src"),toCheck:!1,success:function(){r?n(o):a(o,!0),p(o,r)},fail:t})}),(0,i.default)(".demo-card-list > li")[0].click()})},166:function(e,t){},180:function(e,t){e.exports="/ai_dist/1484894584/ai_images/technology/bfr-detect/demo-card-1.jpg"},181:function(e,t){e.exports="/ai_dist/1484894584/ai_images/technology/bfr-detect/demo-card-2.jpg"},182:function(e,t){e.exports="/ai_dist/1484894584/ai_images/technology/bfr-detect/demo-card-3.jpg"},183:function(e,t){e.exports="/ai_dist/1484894584/ai_images/technology/bfr-detect/demo-card-4.png"},184:function(e,t){e.exports="/ai_dist/1484894584/ai_images/technology/bfr-detect/demo-card-5.png"},185:function(e,t){e.exports="/ai_dist/1484894584/ai_images/technology/bfr-detect/demo-card-6.jpg"},186:function(e,t){e.exports="/ai_dist/1484894584/ai_images/technology/bfr-detect/demo-card-7.jpg"},187:function(e,t){e.exports="/ai_dist/1484894584/ai_images/technology/bfr-detect/demo-card-8.jpg"}});