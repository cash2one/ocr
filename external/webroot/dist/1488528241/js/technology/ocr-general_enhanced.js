duAI([3],{13:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=a(0),o=n(i),c=(0,o.default)(".tech-case-option-btn");c.on("click",function(t){var e=t.target,a=(0,o.default)(e);if(!a.hasClass("tech-case-active")){a.addClass("tech-case-active").siblings().removeClass("tech-case-active");var n=(0,o.default)(".tech-case-item").eq(a.index());n.addClass("tech-case-active").siblings().removeClass("tech-case-active")}})},130:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/technology/ocr-general_enhanced/demo-card-1.png"},131:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/technology/ocr-general_enhanced/demo-card-2.png"},132:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/technology/ocr-general_enhanced/demo-card-3.png"},133:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/technology/ocr-general_enhanced/demo-card-4.png"},134:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/technology/ocr-general_enhanced/demo-card-5.png"},135:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/technology/ocr-general_enhanced/demo-card-6.png"},136:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/technology/ocr-general_enhanced/demo-card-7.png"},137:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/technology/ocr-general_enhanced/demo-card-8.png"},197:function(t,e,a){t.exports=a(50)},5:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/image-format.png"},50:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=a(0),o=n(i),c=a(7),r=n(c);a(13),a(93);var d=a(63),s=n(d),l=a(5),u=a(6),f=a(98),g=a(99),h=[a(130),a(131),a(132),a(133),a(134),a(135),a(136),a(137)],m=(0,o.default)(window),p=(0,o.default)(document),v=(0,o.default)(".tech-demo-card-item"),_=(0,o.default)("#demo-json").find("> p"),b=(0,o.default)("#demo-result"),x=(0,o.default)("#img-upload"),y=(0,o.default)("#scan-url"),w=(0,o.default)("#demo-photo-url"),j=1,C=2,M=!1;m.on("scroll.demo",(0,r.default)(function(){p.scrollTop()>=100&&(V(),m.off(".demo"))},300));var V=function(){var t=(0,o.default)(".tech-function-original-card"),e=(0,o.default)(".tech-function-scan-result");t.addClass("tech-function-scanning"),setTimeout(function(){t.removeClass("tech-function-scanning").addClass("tech-function-scanned"),e.addClass("tech-function-scanned")},3e3)},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_.text(t)},q=function(t){var e=(0,o.default)("#demo-origin");e.html('<img class="tech-demo-origin-img" src="'+t+'">')},D=function(){b.html('<div id="result-loading"></div>')},O=function(t){if(!t)return void b.html("");for(var e=t.words_result||[],a=[],n=0,i=e.length;n<i;n++){var o=e[n],c=o.location,r=["<tr>","    <td>"+(n+1)+"</td>","    <td>"+o.words+"</td>","    <td>"+c.left+"</td>","    <td>"+c.top+"</td>","    <td>"+c.width+"</td>","    <td>"+c.height+"</td>","</tr>"];a.push(r.join("\r"))}var d=a.length>0?['<div id="json-table">','<table cellspacing="0">',"    <thead>","        <tr>",'            <th rowspan="2" style="width:20px;">编号</th>','            <th colspan="5">识别结果</th>',"        </tr>","        <tr>",'            <th style="width:250px;">文字</th>',"            <th>left</th>","            <th>top</th>","            <th>width</th>","            <th>height</th>","        </tr>","    </thead>","    <tbody>"+a.join("\r")+"</tbody>","</table>","</div>"].join("\r"):'<img src="'+f+'">';b.html(d)},T=function(t){if(O(),k(""),!t)return void q(l);switch(t){case 104:case j:return void q(l);case C:return void q(u);case 107:case 28:default:return void q(g)}},A=function(t,e){var a=o.default.Deferred();return M=!0,q(t||e),D(),k(""),y.prop("disabled",!0),x.prop("disabled",!0),t&&e&&a.reject(),o.default.post({url:"/aidemo",data:{type:"general_enhanced",image:e,image_url:t}}).then(function(t){var e=t.errno,n=t.msg,i=t.data;return M=!1,y.prop("disabled",!1),x.prop("disabled",!1),0===e?void a.resolve(i):void a.reject(e,n)},function(){M=!1,y.prop("disabled",!1),x.prop("disabled",!1),a.reject(28,"网络错误")}),a.promise()},R=function(t){k(t?JSON.stringify(t,null,"\t"):""),O(t)},z=function(t){var e=["image/jpeg","image/png","image/bmp"],a=t.type,n=t.size;return e.indexOf(a)<0?{isValid:!1,reason:j}:n>2097152?{isValid:!1,reason:C}:{isValid:!0}};v.each(function(t,e){(0,o.default)(e).find("img").attr("src",h[t])}),v.on("click",function(t){var e=(0,o.default)(t.currentTarget);if(!e.hasClass("tech-demo-card-active")&&!M){e.addClass("tech-demo-card-active").siblings().removeClass("tech-demo-card-active");var a=""+window.location.protocol+e.find("img").eq(0).attr("src");A(a).then(function(t){R(t)},T)}}),y.on("click",function(){var t=w.val().trim();if(t)return/\.(jpe?g|png|gif|bmp)$/i.test(t)?void A(t).then(function(t){R(t)},T):void T(j)}),x.on("change",function(t){if((0,o.default)(t.target).val()){var e=t.target.files[0],a=z(e);if(!a.isValid)switch(a.reason){case j:return void T(j);case C:return void T(C)}(0,s.default)(e).then(function(t){A("",t).then(function(t){R(t)},T)},T)}});var F=v.eq(0).find("img").attr("src");A(F).then(function(t){R(t)},T)},6:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/too-large.png"},63:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=o.default.Deferred(),a=new FileReader;return a.readAsDataURL(t),a.onload=function(t){e.resolve(t.target.result)},a.onerror=e.reject,e.promise()};var i=a(0),o=n(i)},93:function(t,e){},98:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/no-general-result.png"},99:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/timeout.png"}},[197]);