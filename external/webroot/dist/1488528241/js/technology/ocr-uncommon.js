duAI([5],{13:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=i(0),o=a(n),r=(0,o.default)(".tech-case-option-btn");r.on("click",function(t){var e=t.target,i=(0,o.default)(e);if(!i.hasClass("tech-case-active")){i.addClass("tech-case-active").siblings().removeClass("tech-case-active");var a=(0,o.default)(".tech-case-item").eq(i.index());a.addClass("tech-case-active").siblings().removeClass("tech-case-active")}})},190:function(t,e,i){t.exports=i(51)},5:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/image-format.png"},51:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var n=i(0),o=a(n),r=i(8),d=a(r);i(13),i(94);var c=i(63),s=a(c),u=(i(6),i(5)),l=i(7),f=i(98),h=i(99),m=(0,o.default)(window),g=(0,o.default)(document),v=(0,o.default)(".tech-demo-card-item"),p=(0,o.default)("#demo-json").find("> p"),b=(0,o.default)("#demo-result"),_=(0,o.default)("#img-upload"),j=(0,o.default)("#scan-url"),w=(0,o.default)("#demo-photo-url"),x=1,C=2,y=!1;m.on("scroll.demo",(0,d.default)(function(){g.scrollTop()>=100&&(M(),m.off(".demo"))},300));var M=function(){var t=(0,o.default)(".tech-function-original-card"),e=(0,o.default)(".tech-function-scan-result");t.addClass("tech-function-scanning"),setTimeout(function(){t.removeClass("tech-function-scanning").addClass("tech-function-scanned"),e.addClass("tech-function-scanned")},3e3)},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";p.text(t)},k=function(t){var e=(0,o.default)("#demo-origin");e.html('<img class="tech-demo-origin-img" src="'+t+'">')},D=function(){b.html('<div id="result-loading"></div>')},O=function(t){if(!t)return void b.html("");for(var e=t.words_result||[],i=[],a=0,n=e.length;a<n;a++){var o=e[a],r=o.location,d=["<tr>","    <td>"+(a+1)+"</td>","    <td>"+o.words+"</td>","    <td>"+r.left+"</td>","    <td>"+r.top+"</td>","    <td>"+r.width+"</td>","    <td>"+r.height+"</td>","</tr>"];i.push(d.join("\r"))}var c=i.length>0?['<div id="json-table">','<table cellspacing="0">',"    <thead>","        <tr>",'            <th rowspan="2" style="width:20px;">编号</th>','            <th colspan="5">识别结果</th>',"        </tr>","        <tr>",'            <th style="width:250px;">文字</th>',"            <th>left</th>","            <th>top</th>","            <th>width</th>","            <th>height</th>","        </tr>","    </thead>","    <tbody>"+i.join("\r")+"</tbody>","</table>","</div>"].join("\r"):'<img src="'+f+'">';b.html(c)},T=function(t){if(O(),V(""),!t)return void k(u);switch(t){case 104:case x:return void k(u);case C:return void k(l);case 107:case 28:default:return void k(h)}},q=function(t,e){var i=o.default.Deferred();return y=!0,k(t||e),D(),V(""),j.prop("disabled",!0),_.prop("disabled",!0),t&&e&&i.reject(),o.default.post({url:"http://ai.baidu.com/aidemo",data:{type:"commontext",image:e,image_url:t}}).then(function(t){var e=t.errno,a=t.msg,n=t.data;return y=!1,j.prop("disabled",!1),_.prop("disabled",!1),0===e?void i.resolve(n):void i.reject(e,a)},function(){y=!1,j.prop("disabled",!1),_.prop("disabled",!1),i.reject(28,"网络错误")}),i.promise()},A=function(t){V(t?JSON.stringify(t,null,"\t"):""),O(t)},R=function(t){var e=["image/jpeg","image/png","image/bmp"],i=t.type,a=t.size;return e.indexOf(i)<0?{isValid:!1,reason:x}:a>2097152?{isValid:!1,reason:C}:{isValid:!0}};v.on("click",function(t){var e=(0,o.default)(t.currentTarget);if(!e.hasClass("tech-demo-card-active")&&!y){e.addClass("tech-demo-card-active").siblings().removeClass("tech-demo-card-active");var i="http://ai.bdstatic.com/dist/1488185410/ai_images/technology/ocr-general/demo-card-3.png";q(i).then(function(t){A(t)},T)}}),j.on("click",function(){var t=w.val().trim();if(t)return/\.(jpe?g|png|gif|bmp)$/i.test(t)?void q(t).then(function(t){A(t)},T):void T(x)}),_.on("change",function(t){if((0,o.default)(t.target).val()){var e=t.target.files[0],i=R(e);if(!i.isValid)switch(i.reason){case x:return void T(x);case C:return void T(C)}(0,s.default)(e).then(function(t){q("",t).then(function(t){A(t)},T)},T)}});var z=v.eq(0).find("img").attr("src");q(z).then(function(t){A(t)},T)},6:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/not-found.png"},63:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=o.default.Deferred(),i=new FileReader;return i.readAsDataURL(t),i.onload=function(t){e.resolve(t.target.result)},i.onerror=e.reject,e.promise()};var n=i(0),o=a(n)},7:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/too-large.png"},94:function(t,e){},98:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/no-general-result.png"},99:function(t,e){t.exports="//ai.bdstatic.com/dist/1488528241/ai_images/error/timeout.png"}},[190]);