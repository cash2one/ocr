{"version":3,"sources":["webpack:///./src/entry/home.js","webpack:///./src/less/home.less"],"names":["document","ready","currentBannerNum","bannerInterval","refreshTime","resetInterval","interval","callback","clearInterval","setInterval","setBannerNum","bannerNum","refreshBanner","banners","each","i","e","toggleClass","length","hasClass","video","find","play","css","currentTime","pause","err","click","newBannerNum","index","eq","selector","newsCounter","render","preventDefault","removeClass","addClass","hide","attr","show"],"mappings":";;;;;;;;AAKA;;;;AACA;;;;AAEA;;;;AAEA,sBAAEA,QAAF,EAAYC,KAAZ,CAAkB,YAAY;AAC1B;AACA,QAAIC,mBAAmB,CAAvB;AACA,QAAIC,iBAAiB,IAArB;AACA,QAAMC,cAAc,IAApB;;AAEA,aAASC,aAAT,CAAuBC,QAAvB,EAAiCC,QAAjC,EAA2C;AACvC,YAAID,QAAJ,EAAc;AACVE,0BAAcF,QAAd;AACH;AACDA,mBAAWG,YAAYF,QAAZ,EAAsBH,WAAtB,CAAX;AACA,eAAOE,QAAP;AACH;;AAED,aAASI,YAAT,CAAsBC,SAAtB,EAAiC;AAC7BT,2BAAmBS,SAAnB;AACAR,yBAAiBE,cAAcF,cAAd,EAA8BS,aAA9B,CAAjB;AACH;;AAED,aAASA,aAAT,GAAyB;AACrB,YAAIC,UAAU,sBAAE,sBAAF,CAAd;AACAA,gBAAQC,IAAR,CAAa,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACzB,kCAAEA,CAAF,EAAKC,WAAL,CAAiB,QAAjB,EAA2BF,MAAOb,mBAAmBW,QAAQK,MAA7D;AACA,gBAAI,sBAAEF,CAAF,EAAKG,QAAL,CAAc,UAAd,CAAJ,EAA+B;AAC3B,oBAAIC,QAAQ,sBAAEJ,CAAF,EAAKK,IAAL,CAAU,OAAV,EAAmB,CAAnB,CAAZ;AACA,oBAAI;AACA,wBAAIN,MAAOb,mBAAmBW,QAAQK,MAAtC,EAA+C;AAC3CE,8BAAME,IAAN;AACA,8CAAEN,CAAF,EAAKK,IAAL,CAAU,OAAV,EAAmBE,GAAnB,CAAuB,SAAvB,EAAkC,CAAlC;AACH,qBAHD,MAIK;AACDH,8BAAMI,WAAN,GAAoB,CAApB;AACAJ,8BAAMK,KAAN;AACA,8CAAET,CAAF,EAAKK,IAAL,CAAU,OAAV,EAAmBE,GAAnB,CAAuB,SAAvB,EAAkC,CAAlC;AACH;AACJ,iBAVD,CAWA,OAAOG,GAAP,EAAY;AACR;AACH;AACJ;AACJ,SAnBD;AAoBA,8BAAE,wBAAF,EAA4BZ,IAA5B,CAAiC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC7C,kCAAEA,CAAF,EAAKC,WAAL,CAAiB,QAAjB,EAA2BF,MAAOb,mBAAmBW,QAAQK,MAA7D;AACH,SAFD;AAGAhB;AACH;;AAED,0BAAE,wBAAF,EAA4ByB,KAA5B,CAAkC,YAAY;AAC1C,YAAIC,eAAe,sBAAE,IAAF,EAAQC,KAAR,EAAnB;AACA3B,2BAAmB0B,YAAnB;AACAhB;AACAF,qBAAakB,eAAe,CAA5B;AACH,KALD;;AAOA,0BAAE,wBAAF,EAA4BE,EAA5B,CAA+B,CAA/B,EAAkCH,KAAlC;;AAEA;AACA,uBAAS;AACLI,kBAAU,+BADL;AAELC,qBAAa;AAFR,KAAT,EAGGC,MAHH;;AAKA;AACA,0BAAE,iBAAF,EAAqBN,KAArB,CAA2B,UAAUX,CAAV,EAAa;AACpCA,UAAEkB,cAAF;AACA,8BAAE,iBAAF,EAAqBC,WAArB,CAAiC,QAAjC;AACA,8BAAE,IAAF,EAAQC,QAAR,CAAiB,QAAjB;AACA,8BAAE,wBAAF,EAA4BC,IAA5B;AACA,8BAAE,sBAAE,IAAF,EAAQC,IAAR,CAAa,MAAb,CAAF,EAAwBC,IAAxB;AACH,KAND;AAOH,CAtED,E,CAVA;;;;;;;;;;ACAA,yC","file":"1490342487/js/home.js","sourcesContent":["/**\r\n * @file 主页脚本入口\r\n * @author shiliang@baidu.com\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport News from '../component/widget/news';\r\n\r\nimport 'less/home.less';\r\n\r\n$(document).ready(function () {\r\n    // 首页轮播图\r\n    let currentBannerNum = 0;\r\n    let bannerInterval = null;\r\n    const refreshTime = 6000;\r\n\r\n    function resetInterval(interval, callback) {\r\n        if (interval) {\r\n            clearInterval(interval);\r\n        }\r\n        interval = setInterval(callback, refreshTime);\r\n        return interval;\r\n    }\r\n\r\n    function setBannerNum(bannerNum) {\r\n        currentBannerNum = bannerNum;\r\n        bannerInterval = resetInterval(bannerInterval, refreshBanner);\r\n    }\r\n\r\n    function refreshBanner() {\r\n        let banners = $('.banner-content > li');\r\n        banners.each(function (i, e) {\r\n            $(e).toggleClass('active', i === (currentBannerNum % banners.length));\r\n            if ($(e).hasClass('video-bg')) {\r\n                let video = $(e).find('video')[0];\r\n                try {\r\n                    if (i === (currentBannerNum % banners.length)) {\r\n                        video.play();\r\n                        $(e).find('video').css('opacity', 1);\r\n                    }\r\n                    else {\r\n                        video.currentTime = 0;\r\n                        video.pause();\r\n                        $(e).find('video').css('opacity', 0);\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    // console.error(err);\r\n                }\r\n            }\r\n        });\r\n        $('.banner-indicator > li').each(function (i, e) {\r\n            $(e).toggleClass('active', i === (currentBannerNum % banners.length));\r\n        });\r\n        currentBannerNum++;\r\n    }\r\n\r\n    $('.banner-indicator > li').click(function () {\r\n        let newBannerNum = $(this).index();\r\n        currentBannerNum = newBannerNum;\r\n        refreshBanner();\r\n        setBannerNum(newBannerNum + 1);\r\n    });\r\n\r\n    $('.banner-indicator > li').eq(0).click();\r\n\r\n    // 渲染底部新闻\r\n    new News({\r\n        selector: '.page-content .news-container',\r\n        newsCounter: 3\r\n    }).render();\r\n\r\n    // 解决方案点击响应\r\n    $('.solution-tab a').click(function (e) {\r\n        e.preventDefault();\r\n        $('.solution-tab a').removeClass('active');\r\n        $(this).addClass('active');\r\n        $('.solution-detail > div').hide();\r\n        $($(this).attr('href')).show();\r\n    });\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/home.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/less/home.less\n// module id = 20\n// module chunks = 0"],"sourceRoot":""}