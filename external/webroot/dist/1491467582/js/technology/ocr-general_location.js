duAI([13],{27:function(t,e){t.exports="//ai.bdstatic.com/dist/1491467582/ai_images/error/image-format.png"},28:function(t,e){t.exports="//ai.bdstatic.com/dist/1491467582/ai_images/error/too-large.png"},329:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=a(2),o=i(n),r=a(29),d=i(r);a(43),a(592);var c=a(89),s=i(c);a(623);var l=a(27),u=a(28),f=a(93),h=(a(94),(0,o.default)(window)),m=(0,o.default)(document),v=(0,o.default)(".tech-demo-card-item"),g=(0,o.default)("#demo-json").find("> p"),p=(0,o.default)("#demo-result"),b=(0,o.default)("#img-upload"),w=(0,o.default)("#scan-url"),_=(0,o.default)("#demo-photo-url"),C=!1;h.on("scroll.demo",(0,d.default)(function(){m.scrollTop()>=100&&(j(),h.off(".demo"))},300));var j=function(){var t=(0,o.default)(".tech-function-original-card"),e=(0,o.default)(".tech-function-scan-result");t.addClass("tech-function-scanning"),setTimeout(function(){t.removeClass("tech-function-scanning").addClass("tech-function-scanned"),e.addClass("tech-function-scanned")},3e3)},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";g.text(t)},y=function(t){(0,o.default)("#demo-origin").html('<img class="tech-demo-origin-img" src="'+t+'">')},M=function(){p.html('<div id="result-loading"></div>')},V=function(t){if(!t)return void p.html("");for(var e=t.words_result||[],a=[],i=0,n=e.length;i<n;i++){var o=e[i],r=o.location,d=["<tr>","    <td>"+(i+1)+"</td>","    <td>"+o.words+"</td>","    <td>"+r.left+"</td>","    <td>"+r.top+"</td>","    <td>"+r.width+"</td>","    <td>"+r.height+"</td>","</tr>"];a.push(d.join("\r"))}var c=a.length>0?['<div id="json-table">','<table cellspacing="0">',"    <thead>","        <tr>",'            <th rowspan="2" style="width:20px;">编号</th>','            <th rowspan="2" style="width:250px;">识别结果</th>','            <th colspan="4">识别结果</th>',"        </tr>","        <tr>","            <th>left</th>","            <th>top</th>","            <th>width</th>","            <th>height</th>","        </tr>","    </thead>","    <tbody>"+a.join("\r")+"</tbody>","</table>","</div>"].join("\r"):'<img src="'+f+'">';p.html(c)},k=function(t){if(V(),x(""),!t)return void y(l);switch(t){case 104:case 1:return void y(l);case 2:return void y(u);case 107:case 28:default:return void y(l)}},q=function(t,e){var a=o.default.Deferred();return C=!0,y(t||e),M(),x(""),w.prop("disabled",!0),b.prop("disabled",!0),t&&e&&a.reject(),o.default.post({url:"/aidemo",data:{type:"general_location",image:e,image_url:t}}).then(function(t){var e=t.errno,i=t.msg,n=t.data;if(C=!1,w.prop("disabled",!1),b.prop("disabled",!1),0===e)return void a.resolve(n);a.reject(e,i)},function(){C=!1,w.prop("disabled",!1),b.prop("disabled",!1),a.reject(28,"网络错误")}),a.promise()},D=function(t){x(t?JSON.stringify(t,null,"\t"):""),V(t)},O=function(t){var e=["image/jpeg","image/png","image/bmp"],a=t.type,i=t.size;return e.indexOf(a)<0?{isValid:!1,reason:1}:i>2097152?{isValid:!1,reason:2}:{isValid:!0}};v.on("click",function(t){var e=(0,o.default)(t.currentTarget);if(!e.hasClass("tech-demo-card-active")&&!C){e.addClass("tech-demo-card-active").siblings().removeClass("tech-demo-card-active");var a=""+window.location.protocol+e.find("img").eq(0).attr("src");q(a).then(function(t){D(t)},k)}}),w.on("click",function(){var t=_.val().trim();t&&q(t).then(function(t){D(t)},k)}),b.on("change",function(t){if((0,o.default)(t.target).val()){var e=t.target.files[0],a=O(e);if(!a.isValid)switch(a.reason){case 1:return void k(1);case 2:return void k(2)}(0,s.default)(e).then(function(t){q("",t).then(function(t){D(t)},k)},k)}});var T=""+window.location.protocol+v.eq(0).find("img").attr("src");q(T).then(function(t){D(t)},k)},43:function(t,e,a){"use strict";var i=a(2),n=function(t){return t&&t.__esModule?t:{default:t}}(i);(0,n.default)(".tech-case-option-btn").on("click",function(t){var e=t.target,a=(0,n.default)(e);a.hasClass("tech-case-active")||(a.addClass("tech-case-active").siblings().removeClass("tech-case-active"),(0,n.default)(".tech-case-item").eq(a.index()).addClass("tech-case-active").siblings().removeClass("tech-case-active"))})},592:function(t,e){},623:function(t,e,a){t.exports=a.p+"./../../template/cloud/ocr-general_location.html"},740:function(t,e,a){t.exports=a(329)},89:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=n.default.Deferred(),a=new FileReader;return a.readAsDataURL(t),a.onload=function(t){e.resolve(t.target.result)},a.onerror=e.reject,e.promise()};var i=a(2),n=function(t){return t&&t.__esModule?t:{default:t}}(i)},93:function(t,e){t.exports="//ai.bdstatic.com/dist/1491467582/ai_images/error/no-general-result.png"},94:function(t,e){t.exports="//ai.bdstatic.com/dist/1491467582/ai_images/error/timeout.png"}},[740]);