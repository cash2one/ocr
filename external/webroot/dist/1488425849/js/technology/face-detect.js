duAI([1],{1:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t){var e=t.image,a=void 0===e?null:e,o=t.imageUrl,n=void 0===o?null:o,i=t.success,r=void 0===i?m.default.noop:i,l=t.fail,s=void 0===l?m.default.noop:l;m.default.post("http://ai.baidu.com/aidemo",{type:"idcard",image:a,image_url:n}).success(r).fail(s)}function i(t){var e=t.image,a=void 0===e?null:e,o=t.imageUrl,n=void 0===o?null:o,i=t.success,r=void 0===i?m.default.noop:i,l=t.fail,s=void 0===l?m.default.noop:l;m.default.post("http://ai.baidu.com/aidemo",{type:"bankcard",image:a,image_url:n}).success(r).fail(s)}function r(t){var e=t.image,a=void 0===e?null:e,o=(t.imageUrl,t.success),n=void 0===o?m.default.noop:o,i=t.fail,r=void 0===i?m.default.noop:i;m.default.post("http://ai.baidu.com/aidemo",{type:"commontext",image:a,image_url:"http://ai.bdstatic.com/dist/1488185410/ai_images/technology/ocr-general/demo-card-3.png"}).success(n).fail(r)}function l(t){var e=t.image,a=void 0===e?null:e,o=t.imageUrl,n=void 0===o?null:o,i=t.success,r=void 0===i?m.default.noop:i,l=t.fail,s=void 0===l?m.default.noop:l;m.default.post("http://ai.baidu.com/aidemo",{type:"face",image:a,image_url:n}).success(r).fail(s)}function s(t){var e=t.image,a=void 0===e?null:e,o=t.imageUrl,n=void 0===o?null:o,i=t.success,r=void 0===i?m.default.noop:i,l=t.fail,s=void 0===l?m.default.noop:l;m.default.post("http://ai.baidu.com/aidemo",{type:"pornography",image:a,image_url:n}).success(r).fail(s)}function c(t){var e=t.imageUrl,a=void 0===e?null:e,o=t.type,n=t.success,i=void 0===n?m.default.noop:n,r=t.fail,l=void 0===r?m.default.noop:r;m.default.post("http://ai.baidu.com/aidemo",{action:"getHeader",type:o,image_url:a}).success(i).fail(l)}function d(t){var e=t.words,a=void 0===e?null:e,o=t.success,n=void 0===o?m.default.noop:o,i=t.fail,r=void 0===i?m.default.noop:i;m.default.post("http://ai.baidu.com/aidemo",{type:"wakescore",kw:a}).success(n).fail(r)}function u(t){var e=t.words,a=void 0===e?null:e,o=t.success,n=void 0===o?m.default.noop:o;window.open("/aidemo?type=wakedownload&kw="+a,"_blank"),n()}function f(t){var e=t.data,a=void 0===e?{}:e,o=t.success,n=void 0===o?m.default.noop:o,i=t.fail,r=void 0===i?m.default.noop:i;m.default.post("http://ai.baidu.com/aidemo",{type:"tts",speed:a.speed,vol:a.vol,person:a.person,text:a.text}).success(n).fail(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.scanIDCard=n,e.scanBankCard=i,e.scanGeneralText=r,e.scanFace=l,e.scanPornography=s,e.getHeader=c,e.evaluateWakeWords=d,e.exportWakeWords=u,e.synthesizeSpeech=f;var p=a(0),m=o(p)},10:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/error/too-large.png"},105:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/technology/bfr-detect/demo-card-1.jpg"},106:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/technology/bfr-detect/demo-card-2.jpg"},107:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/technology/bfr-detect/demo-card-3.jpg"},108:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/technology/bfr-detect/demo-card-4.png"},109:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/technology/bfr-detect/demo-card-5.png"},110:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/technology/bfr-detect/demo-card-6.jpg"},111:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/technology/bfr-detect/demo-card-7.jpg"},112:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/technology/bfr-detect/demo-card-8.jpg"},177:function(t,e,a){t.exports=a(41)},2:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}(),s=function t(e,a,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,a);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,a,o)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(o)},c=a(0),d=o(c),u=a(5),f=o(u),p=a(4),m=o(p),g=function(t){function e(t){n(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.title="提示",a.content=t||"",a.init(),a}return r(e,t),l(e,[{key:"init",value:function(){var t=(0,m.default)({id:this.id,title:this.title,content:this.content});(0,d.default)(this.container).append(t),this.bindEvent(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this)}},{key:"hide",value:function(){this.getModal().hide().remove(),(0,d.default)("body").removeClass("modal-show")}},{key:"bindEvent",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvent",this).call(this);var a=this.getModal();a.on("click","button.cancel",function(e){e.preventDefault(),t.hide()})}}]),e}(f.default);e.default=g},4:function(t,e,a){var o=a(3);t.exports=(o.default||o).template({compiler:[7,">= 4.0.0"],main:function(t,e,a,o,n){var i,r,l=null!=e?e:{},s=a.helperMissing,c="function",d=t.escapeExpression;return'<div class="ai-modal alert" id="'+d((r=null!=(r=a.id||(null!=e?e.id:e))?r:s,typeof r===c?r.call(l,{name:"id",hash:{},data:n}):r))+'">\n    <header class="modal-header">\n        <h3>'+d((r=null!=(r=a.title||(null!=e?e.title:e))?r:s,typeof r===c?r.call(l,{name:"title",hash:{},data:n}):r))+'</h3>\n        <a class="modal-x"></a>\n    </header>\n    <section class="modal-content">\n        <div style="text-align: center; color: #666;font-size: 14px;margin-bottom: 20px;">\n            '+(null!=(r=null!=(r=a.content||(null!=e?e.content:e))?r:s,i=typeof r===c?r.call(l,{name:"content",hash:{},data:n}):r)?i:"")+'\n        </div>\n        <div style="text-align: center;">\n            <button type="button" class="btn-normal cancel">确定</button>\n        </div>\n    </section>\n</div>\n'},useData:!0})},41:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var n=a(0),i=o(n),r=a(6),l=o(r),s=a(7),c=o(s),d=a(1),u=a(2),f=o(u);a(83);var p=[a(105),a(106),a(107),a(108),a(109),a(110),a(111),a(112)],m=(0,i.default)("#demo-json").find("> p"),g=(0,i.default)("#result-gallery"),h=g.find("ul"),v=(0,i.default)(".tech-intro-detail"),y=(0,i.default)("#demo-result"),b=y.find(".canvas-container"),_=(0,i.default)("#demo-photo-upload").find("> input"),w=(0,i.default)("#demo-photo-url"),x=(0,i.default)("#face-details");(0,i.default)(".case-indicator > li").click(function(){var t=this;(0,i.default)(".case-indicator > li").each(function(e,a){(0,i.default)(a).toggleClass("active",e===(0,i.default)(t).index())}),(0,i.default)(".case-item").each(function(e,a){(0,i.default)(a).toggleClass("active",e===(0,i.default)(t).index())})}),(0,i.default)(window).scroll((0,l.default)(function(){(0,i.default)(document).scrollTop()>=100&&(0,i.default)(".tech-intro-detail").trigger("demo")},300)),v.one("demo",function(){v.addClass("scanned")});var k=!1,C=function(){k=!1,m.empty(),b.attr("class","canvas-container"),(0,i.default)("#demo-photo-upload, #scan-photo").removeClass("disabled"),_.val(""),g.hide(),h.empty(),x.hide().empty()},j=function(t){for(var e=y.find("canvas"),a=e.attr("data-scale"),o=e[0].getContext("2d"),n=0,i=t.length;n<i;n++){var r=t[n],l=r.location;o.save(),o.lineWidth=4/a,o.strokeStyle="rgba(0, 115, 235, 0.8)",o.translate(l.left,l.top),o.rotate(r.rotation_angle/180*Math.PI),o.rect(0,0,l.width,l.height),o.stroke(),o.restore()}},O=function(t,e){for(var a=y.find("canvas"),o=a.attr("data-scale"),n=a[0].getContext("2d"),i=e?{x:t.location.left,y:t.location.top}:{x:0,y:0},r=e?t.rotation_angle:0,l=function(t,e){return 360*Math.atan(e/t)/(2*Math.PI)},s=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},c=0,d=t.landmark72.length;c<d;c++){var u=t.landmark72[c];n.beginPath(),n.lineWidth=1,n.fillStyle="rgba(0, 115, 235, 0.8)",n.strokeStyle="transparent";var f=(l(u.x-i.x,u.y-i.y)-r)/180*Math.PI,p=s(u.x-i.x,u.y-i.y);n.arc(p*Math.cos(f),p*Math.sin(f),2/o,0,2*Math.PI),n.fill(),n.stroke(),n.closePath()}},M=function(t){g.toggle(t)},P=function(t){var e=new Image;e.onload=function(){for(var a=0,o=t.result.length;a<o;a++){var n=t.result[a],r=(0,i.default)("<canvas>").attr("width",n.location.width).attr("height",n.location.height),l=r[0].getContext("2d");l.rotate(-n.rotation_angle*Math.PI/180),l.translate(-n.location.left,-n.location.top),l.drawImage(e,0,0);var s=(0,i.default)('<li><img src="'+r[0].toDataURL()+'"></li>');s.data("face",n).data("isAll",!1),h.append(s)}},e.src=g.find("img").eq(0).attr("src")},U=function(t,e){var a=(0,i.default)('<li class="active"><img src="'+t+'"></li>');a.data("face",e).data("isAll",!0),h.empty().append(a)},I={age:{name:"年龄",transform:function(t){return Math.round(t)}},race:{name:"人种",transform:function(t){return{yellow:"黄种人",white:"白种人",black:"黑种人",arabs:"阿拉伯人"}[t]}},gender:{name:"性别",transform:function(t){return{male:"男性",female:"女性"}[t]}},expression:{name:"表情",transform:function(t){return{0:"不笑",1:"微笑",2:"大笑"}[t]}},glasses:{name:"眼镜",transform:function(t){return{0:"无眼镜",1:"普通眼镜",2:"墨镜"}[t]}}},T=function(t,e){return x.empty(),e?(x.hide(),!1):(x.show(),void Object.keys(I).forEach(function(e){var a=I[e].name,o=I[e].transform(t[e]);x.append((0,i.default)("<li></li>").html(a+" : "+o))}))},D=function(t,e,a){m.empty(),M(!1),b.attr("class","canvas-container loading"),x.hide().empty();var o={success:function(t){(0,i.default)("#demo-photo-upload, #scan-photo").removeClass("disabled"),m.html(JSON.stringify(t,null,"\t")),b.removeClass("loading");var a=t.errno,o=t.msg,n=t.data;return 0===a&&n.result_num?(b.toggleClass("has-result",n.result_num>=1),U(e,n.result),1===n.result_num?(M(!1),O(n.result[0]),T(n.result[0],!1)):(M(!0),P(n),j(n.result),T(null,!0)),void(k=!1)):(b.toggleClass("error-upload-fail",107===a).toggleClass("error-timeout",28===a).toggleClass("error-image-format",106===a),b.toggleClass("error-no-result",!n||!n.result_num),b.empty(),k=!1,[106,107,28,0].indexOf(a)===-1&&new f.default(o),k)},fail:function(t){new f.default("接口发生错误："+t.status+" - "+t.statusText),C()}};"url"===t?o.imageUrl=a:"stream"===t&&(o.image=e),(0,d.scanFace)(o)};_.change(function(t){var e=(0,i.default)(t.target);if(""===e.val())return!1;if(k)return void new f.default("操作正在进行中，请稍候再试！");k=!0,(0,i.default)("#demo-photo-upload, #scan-photo").addClass("disabled");var a=e[0].files[0];new c.default({selector:"#demo-result .canvas-container",image:a,type:"stream",success:function(t){_.val(""),D("stream",t)},fail:C})}),(0,i.default)("#scan-photo").click(function(t){var e=(0,i.default)(t.target);if(k)return void new f.default("操作正在进行中，请稍候再试！");if(!e.hasClass("disabled")&&w.val()){k=!0,(0,i.default)("#demo-photo-upload, #scan-photo").addClass("disabled");var a=w.val();new c.default({selector:"#demo-result .canvas-container",image:a,type:"url",apiType:"face",success:function(t){D("url",t,a)},fail:C})}}),(0,i.default)("#demo-photo-upload").click(function(){if((0,i.default)(this).hasClass("disabled"))return!1});var E=(0,i.default)(".demo-card-list > li");E.each(function(t,e){(0,i.default)(e).find("img").attr("src",""+p[t])}),E.click(function(t){var e=(0,i.default)(t.target);if(k)return void new f.default("操作正在进行中，请稍候再试！");if(!e.hasClass("active")){k=!0,e.addClass("active").siblings().removeClass("active");var a=""+window.location.protocol+(0,i.default)(this).find("img").attr("src");(0,i.default)("#demo-photo-upload, #scan-photo").addClass("disabled"),new c.default({selector:"#demo-result .canvas-container",image:a,type:"url",success:function(t){D("url",t,a)},fail:C})}}),g.on("click","li",function(t){var e=(0,i.default)(t.target);if(!e.hasClass("active")){e.addClass("active").siblings().removeClass("active");var a=e.data("face"),o=e.data("isAll");new c.default({selector:"#demo-result .canvas-container",image:(0,i.default)(this).find("img").attr("src"),toCheck:!1,success:function(){o?j(a):O(a,!0),T(a,o)},fail:C})}}),E.eq(0).click()},7:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}(),r=a(0),l=o(r),s=a(1),c=a(2),d=o(c),u=a(9),f=a(8),p=a(10),m=function(){function t(e){var a=this,o=e.selector,i=e.image,r=e.type,s=e.apiType,c=e.toCheck,u=void 0===c||c,f=e.scale,p=void 0===f?1:f,m=e.success,g=e.fail;if(n(this,t),!(0,l.default)(o).context)throw"DemoCanvas：未寻找到容器!";if(this.container=(0,l.default)(o),this.type=r,this.scale=p,this.apiType=s,this.image=new Image,this.success=m||l.default.noop,this.fail=g||l.default.noop,this.image.onerror=function(){a.fail(),new d.default("图片加载失败，请重试")},u){var h={url:this.checkByUrl,stream:this.checkByStream}[this.type](i,s);h.then(function(t){a.image.onload=function(){a.render(!0)},a.image.src=t},function(t){a.image.onload=function(){a.render(!1)},a.image.src=t})}else this.image.onload=function(){a.render(!0)},this.image.src=i}return i(t,[{key:"checkByUrl",value:function(t,e){var a=l.default.Deferred();return(0,s.getHeader)({imageUrl:t,type:e,success:function(t){var e=t.data["Content-Type"],o=t.data["Content-Length"];return!e&&!o||0!==t.errno?void a.reject(u):/image\/(png|bmp|jpg|jpeg)/.test(e)?o>2097152?void a.reject(p):void a.resolve(t.data.image_data):void a.reject(f)},fail:function(){a.reject(u)}}),a.promise()}},{key:"checkByStream",value:function(t){var e=l.default.Deferred(),a=new FileReader;return t?(a.readAsDataURL(t),a.onload=function(a){return/image\/(png|bmp|jpeg)/.test(t.type)?t.size>2097152?(e.reject(p),!1):void e.resolve(a.target.result):(e.reject(f),!1)},a.onerror=function(){e.reject(u)},e.promise()):(e.reject(u),e.promise())}},{key:"render",value:function(t){var e=this.container.width(),a=this.container.height(),o=this.image.width,n=this.image.height,i=(0,l.default)("<canvas>您的浏览器暂时不支持canvas，请选用现代浏览器！</canvas>").attr("width",o).attr("height",n),r=i[0].getContext("2d");r.drawImage(this.image,0,0);var s=o/e,c=n/a,d=this.scale*(s>1||c>1?1/(s>=c?s:c):1);i.css({position:"relative",left:"50%",top:"50%","-webkit-transform":"translate(-50%, -50%) scale("+d+")","-moz-transform":"translate(-50%, -50%) scale("+d+")","-o-transform":"translate(-50%, -50%) scale("+d+")",transform:"translate(-50%, -50%) scale("+d+")"}),i.attr("data-scale",d),this.container.empty().append(i),t?this.success(this.image.src):this.fail()}}]),t}();e.default=m},8:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/error/image-format.png"},83:function(t,e){},9:function(t,e){t.exports="//ai.bdstatic.com/dist/1488425849/ai_images/error/not-found.png"}},[177]);