{"version":3,"sources":["webpack:///./ai_images/technology/antiporn/demo-card-1.jpg","webpack:///./ai_images/technology/antiporn/demo-card-2.jpg","webpack:///./src/less/technology/video.less","webpack:///./src/view/technology/video.html?5f43","webpack:///./src/view/technology/video.html","webpack:///./ai_images/technology/antiporn/demo-card-3.jpg","webpack:///./ai_images/technology/antiporn/demo-card-4.jpg","webpack:///./ai_images/technology/antiporn/demo-card-5.jpg","webpack:///./ai_images/technology/antiporn/demo-card-6.jpg","webpack:///./ai_images/technology/antiporn/demo-card-7.jpg","webpack:///./ai_images/technology/antiporn/demo-card-8.jpg","webpack:///./src/entry/technology/video.js","webpack:///./src/component/widget/demoCanvas.js","webpack:///./ai_images/error/image-format.png","webpack:///./ai_images/error/not-found.png","webpack:///./ai_images/error/too-large.png","webpack:///./src/partials/modal/alert.hbs","webpack:///./src/component/widget/alertModal.js","webpack:///./src/model/demoAPI.js"],"names":["demoImagePaths","require","document","ready","click","each","i","e","toggleClass","index","isScanning","resetDemo","empty","val","attr","removeClass","startScan","type","imgSrc","url","hide","options","success","res","html","JSON","stringify","errno","data","result_num","indexOf","msg","activeResult","len","result","length","record","probability","Math","round","class_name","fail","xhr","status","statusText","imageUrl","image","change","addClass","file","files","selector","lazyRender","hasClass","apiType","$demoImgContainer","item","find","window","location","protocol","toCheck","notFoundImg","formatImg","tooLargeImg","DemoCanvas","scale","context","container","Image","noop","onerror","promise","checkByUrl","stream","checkByStream","then","onload","render","src","resultImg","errorImg","dfd","Deferred","contentType","contentSize","reject","test","resolve","image_data","reader","FileReader","readAsDataURL","size","target","isSuccessful","cWidth","width","cHeight","height","iWidth","iHeight","canvas","ctx","getContext","drawImage","wRatio","hRatio","scaleRatio","css","append","AlertModal","content","title","init","id","bindEvent","getModal","remove","modal","on","preventDefault","scanIDCard","scanBankCard","scanGeneralText","scanFace","scanPornography","getHeader","evaluateWakeWords","exportWakeWords","synthesizeSpeech","post","action","words","kw","open","speed","vol","person","text"],"mappings":"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","file":"1490786085/js/technology/video.js","sourcesContent":["module.exports = \"/ai_dist/1490786085/ai_images/technology/antiporn/demo-card-1.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/technology/antiporn/demo-card-1.jpg\n// module id = 10\n// module chunks = 0","module.exports = \"/ai_dist/1490786085/ai_images/technology/antiporn/demo-card-2.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/technology/antiporn/demo-card-2.jpg\n// module id = 11\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/less/technology/video.less\n// module id = 114\n// module chunks = 0","module.exports = __webpack_public_path__ + \"./../../template/cloud/video.html\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/file-loader?name=./../../template/cloud/[name].html!./~/extract-loader/lib/extractLoader.js!./~/html-loader!./src/view/technology/video.html\n// module id = 115\n// module chunks = 0","null\n\n\n// WEBPACK FOOTER //\n// ../template/cloud/[name].html!./~/extract-loader/lib/extractLoader.js!./~/html-loader!./src/view/technology/video.html","module.exports = \"/ai_dist/1490786085/ai_images/technology/antiporn/demo-card-3.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/technology/antiporn/demo-card-3.jpg\n// module id = 12\n// module chunks = 0","module.exports = \"/ai_dist/1490786085/ai_images/technology/antiporn/demo-card-4.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/technology/antiporn/demo-card-4.jpg\n// module id = 13\n// module chunks = 0","module.exports = \"/ai_dist/1490786085/ai_images/technology/antiporn/demo-card-5.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/technology/antiporn/demo-card-5.jpg\n// module id = 14\n// module chunks = 0","module.exports = \"/ai_dist/1490786085/ai_images/technology/antiporn/demo-card-6.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/technology/antiporn/demo-card-6.jpg\n// module id = 15\n// module chunks = 0","module.exports = \"/ai_dist/1490786085/ai_images/technology/antiporn/demo-card-7.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/technology/antiporn/demo-card-7.jpg\n// module id = 16\n// module chunks = 0","module.exports = \"/ai_dist/1490786085/ai_images/technology/antiporn/demo-card-8.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/technology/antiporn/demo-card-8.jpg\n// module id = 17\n// module chunks = 0","/**\r\n * @file 色情识别脚本入口\r\n * @author shiliang@baidu.com\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport throttle from 'lodash.throttle';\r\nimport DemoCanvas from '../../component/widget/demoCanvas';\r\nimport {scanPornography} from '../../model/demoAPI';\r\nimport AlertModal from '../../component/widget/alertModal';\r\n\r\n/* eslint-disable */\r\nimport '!file-loader?name=./../../template/cloud/[name].html!extract-loader!html-loader!view/technology/video.html';\r\n/* eslint-enable */\r\nimport '../../less/technology/video.less';\r\n\r\n/* eslint-disable */\r\nconst demoImagePaths = [\r\n    require('../../../ai_images/technology/antiporn/demo-card-1.jpg'),\r\n    require('../../../ai_images/technology/antiporn/demo-card-2.jpg'),\r\n    require('../../../ai_images/technology/antiporn/demo-card-3.jpg'),\r\n    require('../../../ai_images/technology/antiporn/demo-card-4.jpg'),\r\n    require('../../../ai_images/technology/antiporn/demo-card-5.jpg'),\r\n    require('../../../ai_images/technology/antiporn/demo-card-6.jpg'),\r\n    require('../../../ai_images/technology/antiporn/demo-card-7.jpg'),\r\n    require('../../../ai_images/technology/antiporn/demo-card-8.jpg')\r\n];\r\n/* eslint-enable */\r\n\r\n$(document).ready(function () {\r\n    // case点击效果\r\n    $('.case-indicator > li').click(function () {\r\n        $('.case-indicator > li').each((i, e) => {\r\n            $(e).toggleClass('active', i === $(this).index());\r\n        });\r\n        $('.case-item').each((i, e) => {\r\n            $(e).toggleClass('active', i === $(this).index());\r\n        });\r\n    });\r\n\r\n    // 触发功能介绍动画\r\n    // $(window).scroll(\r\n    //     throttle(\r\n    //         () => {\r\n    //             if ($(document).scrollTop() >= 100) {\r\n    //                 $('.tech-intro-detail').trigger('demo');\r\n    //             }\r\n    //         },\r\n    //         300\r\n    //     )\r\n    // );\r\n\r\n    // // 绑定功能介绍动画\r\n    // $('.tech-intro-detail').one('demo', function () {\r\n    //     $('.tech-intro-detail > .scan-box').addClass('scanned');\r\n    // });\r\n\r\n    // 线上demo开始\r\n    let isScanning = false;\r\n\r\n    // 重置demo相关dom\r\n    let resetDemo = () => {\r\n        isScanning = false;\r\n        $('#demo-json > p').empty();\r\n        $('#demo-photo-upload  > input').val('');\r\n        $('#demo-result .canvas-container').attr('class', 'canvas-container');\r\n        $('#demo-photo-upload, #scan-photo').removeClass('disabled');\r\n    };\r\n\r\n    let startScan = function (type, imgSrc, url) {\r\n        $('#demo-json > p').empty();\r\n        $('#demo-result .canvas-container').attr('class', 'canvas-container loading');\r\n        $('#face-details').hide().empty();\r\n\r\n        let options = {\r\n            success(res) {\r\n                $('#demo-photo-upload, #scan-photo').removeClass('disabled');\r\n                $('#demo-json > p').html(JSON.stringify(res, null, '\\t'));\r\n                $('#demo-result .canvas-container').removeClass('loading');\r\n\r\n                if (res.errno !== 0 || !res.data.result_num) {\r\n                    $('#demo-result .canvas-container')\r\n                        .toggleClass('error-upload-fail', res.errno === 107)\r\n                        .toggleClass('error-timeout', res.errno === 28)\r\n                        .toggleClass('error-image-format', res.errno === 106);\r\n                    $('#demo-result .canvas-container').empty();\r\n                    $('#demo-result .canvas-container').toggleClass(\r\n                        'error-no-result', !res.data || !res.data.result_num\r\n                    );\r\n                    isScanning = false;\r\n                    if ([106, 107, 28, 0].indexOf(res.errno) === -1) {\r\n                        new AlertModal(res.msg);\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                $('#demo-result .canvas-container').toggleClass('has-result', res.data.result_num >= 1);\r\n\r\n                let activeResult = null;\r\n                for (let i = 0, len = res.data.result.length; i < len; i++) {\r\n                    let record = res.data.result[i];\r\n                    if (!activeResult || record.probability > activeResult.probability) {\r\n                        activeResult = record;\r\n                    }\r\n                }\r\n\r\n                $('#demo-result .canvas-container')\r\n                    .attr('data-probability',\r\n                        Math.round(activeResult.probability * 10000) / 100\r\n                    )\r\n                    .toggleClass('normal', '正常' === activeResult.class_name)\r\n                    .toggleClass('sexy', '性感' === activeResult.class_name)\r\n                    .toggleClass('pornography', '色情' === activeResult.class_name);\r\n\r\n                isScanning = false;\r\n            },\r\n            fail(xhr) {\r\n                new AlertModal('接口发生错误：' + xhr.status + ' - ' + xhr.statusText);\r\n                resetDemo();\r\n            }\r\n        };\r\n        if (type === 'url') {\r\n            options.imageUrl = url;\r\n        }\r\n        else if (type === 'stream') {\r\n            options.image = imgSrc;\r\n        }\r\n\r\n        scanPornography(options);\r\n    };\r\n\r\n\r\n\r\n    // 上传图片\r\n    $('#demo-photo-upload > input').change(function (e) {\r\n        if ($(this).val() === '') {\r\n            return false;\r\n        }\r\n        if (isScanning) {\r\n            new AlertModal('操作正在进行中，请稍候再试！');\r\n            return;\r\n        }\r\n        isScanning = true;\r\n        $('#demo-photo-upload, #scan-photo').addClass('disabled');\r\n        let file = $(this)[0].files[0];\r\n        new DemoCanvas({\r\n            selector: '#demo-result .canvas-container',\r\n            image: file,\r\n            type: 'stream',\r\n            lazyRender: true,\r\n            success(imgSrc) {\r\n                $('#demo-photo-upload  > input').val('');\r\n                startScan('stream', imgSrc);\r\n            },\r\n            fail: resetDemo\r\n        });\r\n    });\r\n\r\n    // demo 检测输入框事件绑定\r\n    $('#demo-photo-url').change(function () {\r\n        $('.demo-card-list > li').removeClass('active');\r\n    });\r\n\r\n    // 检测按钮事件\r\n    $('#scan-photo').click(function () {\r\n        if (isScanning) {\r\n            new AlertModal('操作正在进行中，请稍候再试！');\r\n            return;\r\n        }\r\n        if ($(this).hasClass('disabled') || !$('#demo-photo-url').val()) {\r\n            return false;\r\n        }\r\n        isScanning = true;\r\n        $('#demo-photo-upload, #scan-photo').addClass('disabled');\r\n        let url = $('#demo-photo-url').val();\r\n        new DemoCanvas({\r\n            selector: '#demo-result .canvas-container',\r\n            image: url,\r\n            type: 'url',\r\n            apiType: 'pornography',\r\n            success(imgSrc) {\r\n                startScan('url', imgSrc, url);\r\n            },\r\n            fail: resetDemo\r\n        });\r\n    });\r\n\r\n    // 阻止多次上传\r\n    $('#demo-photo-upload').click(function () {\r\n        if ($(this).hasClass('disabled')) {\r\n            return false;\r\n        }\r\n    });\r\n\r\n    const $demoImgContainer = $('.demo-card-list > li');\r\n\r\n    $demoImgContainer.each(function (index, item) {\r\n        $(item)\r\n            .find('img')\r\n            .attr('src', `${demoImagePaths[index]}`);\r\n    });\r\n\r\n    // 绑定实例图点击事件\r\n    $demoImgContainer.click(function () {\r\n        if (isScanning) {\r\n            new AlertModal('操作正在进行中，请稍候再试！');\r\n            return;\r\n        }\r\n        isScanning = true;\r\n        $('.demo-card-list > li').removeClass('active');\r\n        $(this).addClass('active');\r\n        let url = `${window.location.protocol}${$(this).find('img').attr('src')}`;\r\n        $('#demo-photo-upload, #scan-photo').addClass('disabled');\r\n        new DemoCanvas({\r\n            selector: '#demo-result .canvas-container',\r\n            image: url,\r\n            type: 'url',\r\n            toCheck: false,\r\n            success(imgSrc) {\r\n                startScan('url', imgSrc, url);\r\n            },\r\n            fail: resetDemo\r\n        });\r\n    });\r\n\r\n    // 触发初始化效果\r\n    $('.demo-card-list > li')[0].click();\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/technology/video.js","/**\r\n * @file 用于绘制根据图片识别返回数据绘制图片的插件\r\n * @author shiliang@baidu.com\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport {getHeader} from '../../model/demoAPI';\r\nimport AlertModal from './alertModal';\r\n\r\n/* eslint-disable */\r\nconst notFoundImg = require('../../../ai_images/error/not-found.png');\r\nconst formatImg = require('../../../ai_images/error/image-format.png');\r\nconst tooLargeImg = require('../../../ai_images/error/too-large.png');\r\n/* eslint-enable */\r\n\r\nexport default class DemoCanvas {\r\n    constructor({selector, image, type, apiType, toCheck = true, scale = 1, success, fail}) {\r\n        if (!$(selector).context) {\r\n            throw 'DemoCanvas：未寻找到容器!';\r\n        }\r\n\r\n        this.container = $(selector);\r\n        this.type = type;\r\n        this.scale = scale;\r\n        this.apiType = apiType;\r\n        this.image = new Image();\r\n        this.success = success || $.noop;\r\n        this.fail = fail || $.noop;\r\n\r\n        this.image.onerror = () => {\r\n            this.fail();\r\n            new AlertModal('图片加载失败，请重试');\r\n        };\r\n\r\n        if (toCheck) {\r\n            let promise = {\r\n                url: this.checkByUrl,\r\n                stream: this.checkByStream\r\n            }[this.type](image, apiType);\r\n\r\n            promise.then(\r\n                resultImg => {\r\n                    this.image.onload = () => {\r\n                        this.render(true);\r\n                    };\r\n                    this.image.src = resultImg;\r\n                },\r\n                errorImg => {\r\n                    this.image.onload = () => {\r\n                        this.render(false);\r\n                    };\r\n                    this.image.src = errorImg;\r\n                }\r\n            );\r\n        }\r\n        else {\r\n            this.image.onload = () => {\r\n                this.render(true);\r\n            };\r\n            this.image.src = image;\r\n        }\r\n    }\r\n\r\n    checkByUrl(image, apiType) {\r\n        let dfd = $.Deferred();\r\n\r\n        getHeader({\r\n            imageUrl: image,\r\n            type: apiType,\r\n            success(res) {\r\n                let contentType = res.data['Content-Type'];\r\n                let contentSize = res.data['Content-Length'];\r\n                if ((!contentType && !contentSize) || res.errno !== 0) {\r\n                    // console.error('此错误可能是由于图片的同源策略造成的!');\r\n                    dfd.reject(notFoundImg);\r\n                    return;\r\n                }\r\n                if (!/image\\/(png|bmp|jpg|jpeg)/.test(contentType)) {\r\n                    dfd.reject(formatImg);\r\n                    return;\r\n                }\r\n                if (contentSize > 2 * 1024 * 1024) {\r\n                    dfd.reject(tooLargeImg);\r\n                    return;\r\n                }\r\n                dfd.resolve(res.data.image_data);\r\n            },\r\n            fail() {\r\n                dfd.reject(notFoundImg);\r\n            }\r\n        });\r\n\r\n        return dfd.promise();\r\n    }\r\n\r\n    checkByStream(image) {\r\n        let dfd = $.Deferred();\r\n        let reader = new FileReader();\r\n        if (!image) {\r\n            dfd.reject(notFoundImg);\r\n            return dfd.promise();\r\n        }\r\n        reader.readAsDataURL(image);\r\n        reader.onload = e => {\r\n            if (!/image\\/(png|bmp|jpeg)/.test(image.type)) {\r\n                dfd.reject(formatImg);\r\n                return false;\r\n            }\r\n            if (image.size > 2 * 1024 * 1024) {\r\n                dfd.reject(tooLargeImg);\r\n                return false;\r\n            }\r\n            dfd.resolve(e.target.result);\r\n        };\r\n        reader.onerror = () => {\r\n            dfd.reject(notFoundImg);\r\n        };\r\n\r\n        return dfd.promise();\r\n    }\r\n\r\n    render(isSuccessful) {\r\n        let cWidth = this.container.width();\r\n        let cHeight = this.container.height();\r\n        let iWidth = this.image.width;\r\n        let iHeight = this.image.height;\r\n\r\n        let canvas = $('<canvas>您的浏览器暂时不支持canvas，请选用现代浏览器！</canvas>').attr('width', iWidth)\r\n            .attr('height', iHeight);\r\n        let ctx = canvas[0].getContext('2d');\r\n        ctx.drawImage(this.image, 0, 0);\r\n\r\n        let wRatio = iWidth / cWidth;\r\n        let hRatio = iHeight / cHeight;\r\n\r\n        // 图片缩放\r\n        const scaleRatio = this.scale * ((wRatio > 1 || hRatio > 1)\r\n                ? (1 / (wRatio >= hRatio ? wRatio : hRatio))\r\n                : 1);\r\n\r\n        canvas.css({\r\n            'position': 'relative',\r\n            'left': '50%',\r\n            'top': '50%',\r\n            '-webkit-transform': 'translate(-50%, -50%) scale(' + scaleRatio + ')',\r\n            '-moz-transform': 'translate(-50%, -50%) scale(' + scaleRatio + ')',\r\n            '-o-transform': 'translate(-50%, -50%) scale(' + scaleRatio + ')',\r\n            'transform': 'translate(-50%, -50%) scale(' + scaleRatio + ')'\r\n        });\r\n\r\n        canvas.attr('data-scale', scaleRatio);\r\n        this.container.empty().append(canvas);\r\n\r\n        if (isSuccessful) {\r\n            this.success(this.image.src);\r\n        }\r\n        else {\r\n            this.fail();\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/widget/demoCanvas.js","module.exports = \"/ai_dist/1490786085/ai_images/error/image-format.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/error/image-format.png\n// module id = 37\n// module chunks = 0","module.exports = \"/ai_dist/1490786085/ai_images/error/not-found.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/error/not-found.png\n// module id = 38\n// module chunks = 0","module.exports = \"/ai_dist/1490786085/ai_images/error/too-large.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ai_images/error/too-large.png\n// module id = 39\n// module chunks = 0","var Handlebars = require(\"D:\\\\platfrom\\\\platform\\\\external\\\\webroot\\\\node_modules\\\\handlebars\\\\runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : {}, alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"ai-modal alert\\\" id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\r\\n    <header class=\\\"modal-header\\\">\\r\\n        <h3>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h3>\\r\\n        <a class=\\\"modal-x\\\"></a>\\r\\n    </header>\\r\\n    <section class=\\\"modal-content\\\">\\r\\n        <div style=\\\"text-align: center; color: #666;font-size: 14px;margin-bottom: 20px;\\\">\\r\\n            \"\n    + ((stack1 = ((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"\\r\\n        </div>\\r\\n        <div style=\\\"text-align: center;\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn-normal cancel\\\">确定</button>\\r\\n        </div>\\r\\n    </section>\\r\\n</div>\\r\\n\";\n},\"useData\":true});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/partials/modal/alert.hbs\n// module id = 47\n// module chunks = 0","/**\r\n * @file 提示模态框容器\r\n * @author shiliang@baidu.com\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport Modal from '../common/modal';\r\n\r\nimport alertModalTpl from 'partials/modal/alert.hbs';\r\n\r\nexport default class AlertModal extends Modal {\r\n    constructor(content) {\r\n        super();\r\n        this.title = '提示';\r\n        this.content = content || '';\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const html = alertModalTpl(\r\n            {\r\n                id: this.id,\r\n                title: this.title,\r\n                content: this.content\r\n            }\r\n        );\r\n        $(this.container).append(html);\r\n        this.bindEvent();\r\n        super.show();\r\n    }\r\n\r\n    hide() {\r\n        this.getModal().hide().remove();\r\n        $('body').removeClass('modal-show');\r\n    }\r\n\r\n    bindEvent() {\r\n        super.bindEvent();\r\n        let modal = this.getModal();\r\n\r\n        modal.on('click', 'button.cancel', e => {\r\n            e.preventDefault();\r\n            this.hide();\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/widget/alertModal.js","/**\r\n * @file demo API接口定义\r\n * @author shiliang@baidu.com\r\n */\r\n\r\nimport $ from 'jquery';\r\n\r\nexport function scanIDCard({image = null, imageUrl = null, success = $.noop, fail = $.noop}) {\r\n    $.post('/aidemo', {\r\n        type: 'idcard',\r\n        image: image,\r\n        'image_url': imageUrl\r\n    }).success(success).fail(fail);\r\n}\r\n\r\nexport function scanBankCard({image = null, imageUrl = null, success = $.noop, fail = $.noop}) {\r\n    $.post('/aidemo', {\r\n        type: 'bankcard',\r\n        image: image,\r\n        'image_url': imageUrl\r\n    }).success(success).fail(fail);\r\n}\r\n\r\nexport function scanGeneralText({image = null, imageUrl = null, success = $.noop, fail = $.noop}) {\r\n    $.post('/aidemo', {\r\n        type: 'commontext',\r\n        image: image,\r\n        'image_url': imageUrl\r\n    }).success(success).fail(fail);\r\n}\r\n\r\nexport function scanFace({image = null, imageUrl = null, success = $.noop, fail = $.noop}) {\r\n    $.post('/aidemo', {\r\n        type: 'face',\r\n        image: image,\r\n        'image_url': imageUrl\r\n    }).success(success).fail(fail);\r\n}\r\n\r\nexport function scanPornography({image = null, imageUrl = null, success = $.noop, fail = $.noop}) {\r\n    $.post('/aidemo', {\r\n        type: 'pornography',\r\n        image: image,\r\n        'image_url': imageUrl\r\n    }).success(success).fail(fail);\r\n}\r\n\r\nexport function getHeader({imageUrl = null, type, success = $.noop, fail = $.noop}) {\r\n    $.post('/aidemo', {\r\n        action: 'getHeader',\r\n        type: type,\r\n        'image_url': imageUrl\r\n    }).success(success).fail(fail);\r\n}\r\n\r\nexport function evaluateWakeWords({words = null, success = $.noop, fail = $.noop}) {\r\n    $.post('/aidemo', {\r\n        type: 'wakescore',\r\n        kw: words\r\n    }).success(success).fail(fail);\r\n}\r\n\r\nexport function exportWakeWords({words = null, success = $.noop}) {\r\n    window.open('/aidemo?type=wakedownload&kw=' + words, '_blank');\r\n    success();\r\n}\r\n\r\nexport function synthesizeSpeech({data = {}, success = $.noop, fail = $.noop}) {\r\n    $.post('/aidemo', {\r\n        type: 'tts',\r\n        speed: data.speed,\r\n        vol: data.vol,\r\n        person: data.person,\r\n        text: data.text\r\n    }).success(success).fail(fail);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/demoAPI.js"],"sourceRoot":""}